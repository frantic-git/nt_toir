<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП21">2.01</ВерсияФормата>
	<Ид>4be51f9a-02de-4778-a0f3-a6fef44a8075    </Ид>
	<Наименование>рсм_ТОИР --&gt; рсм_RCM</Наименование>
	<ДатаВремяСоздания>2021-12-10T11:09:28</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.1.1" СинонимКонфигурации="1С:ТОИР Управление ремонтами и обслуживанием оборудования КОРП, редакция 3.0">ТехническоеОбслуживаниеИРемонты20</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.0.8.4" СинонимКонфигурации="1С:RCM Управление надежностью, редакция 1.0">УправлениеНадежностью</Приемник>
	<УдалятьСопоставленныеОбъектыВПриемникеПриИхУдаленииВИсточнике>true</УдалятьСопоставленныеОбъектыВПриемникеПриИхУдаленииВИсточнике>
	<ПередПолучениемИзмененныхОбъектов>
// Заменяем значения по умолчанию на значения из узла ПО
Параметры.Вставить("ИнтерпретацияСоставныхОРБезУказанногоТипа", Получатель.ИнтерпретацияСоставныхОРБезУказанногоТипа);
Параметры.Вставить("ИнтерпретацияПодчиненныхОРБезУказанногоТипа", Получатель.ИнтерпретацияПодчиненныхОРБезУказанногоТипа);
Параметры.Вставить("ПередаватьТОР", Получатель.ПередаватьТОР);
Параметры.Вставить("Иерархия", Получатель.Иерархия);
Параметры.Вставить("ИерархияИзменяетсяДокументами", Параметры.Иерархия.ИзменяетсяДокументами);

Если Параметры.ИерархияИзменяетсяДокументами Тогда
	Запросы.НаличиеОРВИзменяемойДокИерархии.УстановитьПараметр("Иерархия", Параметры.Иерархия);
	Параметры.Вставить("ЗапросПроверкиОРНаВыгружаемость", Запросы.НаличиеОРВИзменяемойДокИерархии);
Иначе
	Запросы.НаличиеОРВИзменяемойДокИерархии.УстановитьПараметр("Иерархия", Параметры.Иерархия);
	Параметры.Вставить("ЗапросПроверкиОРНаВыгружаемость", Запросы.НаличиеОРВНеизменяемойДокИерархии);
КонецЕсли;

Запрос = Новый Запрос(
"ВЫБРАТЬ
|	торо_ВыявленныеДефектыИзменения.Ссылка КАК Ссылка
|ИЗ
|	Документ.торо_ВыявленныеДефекты.Изменения КАК торо_ВыявленныеДефектыИзменения
|ГДЕ
|	торо_ВыявленныеДефектыИзменения.Узел = &amp;Узел");
Запрос.УстановитьПараметр("Узел", Получатель);
Результат = Запрос.Выполнить();
Если Не Результат.Пустой() Тогда
	Выборка = Результат.Выбрать();
	Пока Выборка.Следующий() Цикл
		Параметры.ИДДефектовДляПередачи.Добавить(Строка(Выборка.Ссылка.УникальныйИдентификатор()));
	КонецЦикла;
КонецЕсли;

Параметры.Вставить("УзелПолучатель", Получатель);</ПередПолучениемИзмененныхОбъектов>
	<ПослеПолученияИнформацииОбУзлахОбмена>Параметры.Вставить("НомерСообщения", УзелОбменаЗагрузкаДанных.НомерПринятого+1);</ПослеПолученияИнформацииОбУзлахОбмена>
	<ПередВыгрузкойДанных>// По факту для тех. операций используется одна валюта
Параметры.Вставить("Валюта", Константы.ВалютаУправленческогоУчета.Получить());

Параметры.Вставить("ИспользоватьДокументыЖЦОР", Константы.торо_ИспользоватьДокументыПринятияИСписанияОборудования.Получить());
Параметры.Вставить("КешСтоимостейТК", Новый Соответствие);
Параметры.Вставить("КешПроверенныхНаВыгружаемостьОР", Новый Соответствие);

// Значения по умолчанию
Параметры.Вставить("ИнтерпретацияСоставныхОРБезУказанногоТипа", Перечисления.торо_ТипыОбъектовRCM.Система);
Параметры.Вставить("ИнтерпретацияПодчиненныхОРБезУказанногоТипа", Перечисления.торо_ТипыОбъектовRCM.Объект);
Параметры.Вставить("Иерархия", Константы.торо_ИерархияДляВводаНовыхОР.Получить());
Параметры.Вставить("ИерархияИзменяетсяДокументами", Параметры.Иерархия.ИзменяетсяДокументами);
Параметры.Вставить("ДополнительныеТКДляВыгрузки", Новый Соответствие());
Параметры.Вставить("ВыгруженныеТК", Новый Соответствие());

Если Параметры.ИерархияИзменяетсяДокументами Тогда
	Запросы.НаличиеОРВИзменяемойДокИерархии.УстановитьПараметр("Иерархия", Параметры.Иерархия);
	Параметры.Вставить("ЗапросПроверкиОРНаВыгружаемость", Запросы.НаличиеОРВИзменяемойДокИерархии);
Иначе
	Запросы.НаличиеОРВНеизменяемойДокИерархии.УстановитьПараметр("Иерархия", Параметры.Иерархия);
	Параметры.Вставить("ЗапросПроверкиОРНаВыгружаемость", Запросы.НаличиеОРВНеизменяемойДокИерархии);
КонецЕсли;


Параметры.Вставить("ИДДефектовДляПередачи", Новый Массив);</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ТекДата", ТекущаяДатаСеанса());
Параметры.Вставить("ОписаниеТиповВРегистреИстории", Метаданные.РегистрыСведений.рсм_ИсторияОбменовДаннымиСТОИР.Измерения.Данные.Тип);</ПередЗагрузкойДанных>
	<ПослеЗагрузкиОбъекта>
Если Параметры.Свойство("КешСсылочныхТипов") Тогда
	КешСсылочныхТипов = Параметры.КешСсылочныхТипов;
Иначе
	КешСсылочныхТипов = Новый Соответствие;
	Параметры.Вставить("КешСсылочныхТипов", КешСсылочныхТипов);
КонецЕсли;

ЗначениеСсылочногоТипа = КешСсылочныхТипов.Получить(ТипЗнч(Объект));

Если ЗначениеСсылочногоТипа = Неопределено Тогда
	
	МетаданныеПоТипу = Метаданные.НайтиПоТипу(ТипЗнч(Объект));
	ЗначениеСсылочногоТипа = Метаданные.Справочники.Содержит(МетаданныеПоТипу)
		Или Метаданные.Документы.Содержит(МетаданныеПоТипу);
		
	КешСсылочныхТипов.Вставить(ТипЗнч(Объект), ЗначениеСсылочногоТипа);
КонецЕсли;

Если ЗначениеСсылочногоТипа И Параметры.ОписаниеТиповВРегистреИстории.СодержитТип(ТипЗнч(Объект.Ссылка)) Тогда
	МЗ = РегистрыСведений.рсм_ИсторияОбменовДаннымиСТОИР.СоздатьМенеджерЗаписи();
	МЗ.Период = Параметры.ТекДата;
	МЗ.НомерСообщенияОбмена = Параметры.НомерСообщения;
	МЗ.Данные = Объект.Ссылка;
	МЗ.Записать(Истина);
КонецЕсли;</ПослеЗагрузкиОбъекта>
	<ПослеЗагрузкиПараметров>Если Параметры.Свойство("ИДДефектов") И ЗначениеЗаполнено(Параметры.ИДДефектов) Тогда

	ИДДефектов = ЗначениеИзСтрокиВнутр(Параметры.ИДДефектов);
	
	Для Каждого ИДДефекта Из ИДДефектов Цикл
		
		НЗ = РегистрыСведений.рсм_ДанныеПоДефектам.СоздатьНаборЗаписей();
		НЗ.Отбор.ИД.Установить(ИДДефекта);
		НЗ.Записать(Истина);
		
	КонецЦикла;
КонецЕсли;</ПослеЗагрузкиПараметров>
	<Параметры>
		<Параметр Имя="ИДДефектов                                        " Наименование="ИДДефектов" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="true" ТипЗначения="Строка" ПередаватьПараметрПриВыгрузке="true"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>НаборыДополнительныхРеквизитовИСведений</Код>
				<Наименование>Справочник: Наборы дополнительных реквизитов и сведений</Наименование>
				<Порядок>50</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.НаборыДополнительныхРеквизитовИСведений</Источник>
				<Приемник>СправочникСсылка.НаборыДополнительныхРеквизитовИСведений</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Используется --&gt; Используется</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>КоличествоРеквизитов --&gt; КоличествоРеквизитов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КоличествоРеквизитов" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоличествоРеквизитов" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КоличествоСведений --&gt; КоличествоСведений</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КоличествоСведений" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоличествоСведений" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
						<КодПравилаКонвертации>НаборыДополнительныхРеквизитовИСведений           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>9</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Группа>
						<Код>11</Код>
						<Наименование>ДополнительныеСведения --&gt; ДополнительныеСведения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДополнительныеСведения" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеСведения" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>12</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>УпаковкиНоменклатуры</Код>
				<Наименование>Справочник: Упаковки</Наименование>
				<Порядок>150</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.УпаковкиНоменклатуры</Источник>
				<Приемник>СправочникСсылка.УпаковкиНоменклатуры</Приемник>
				<Свойства>
					<Свойство Отключить="true">
						<Код>1</Код>
						<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
						<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
						<КодПравилаКонвертации>ЕдиницыИзмерения                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true">
						<Код>2</Код>
						<Наименование>КоличествоУпаковок --&gt; КоличествоУпаковок</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>3</Код>
						<Наименование>Коэффициент --&gt; Коэффициент</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Отключить="true" Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.УпаковкиНоменклатуры"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.УпаковкиНоменклатуры"/>
						<КодПравилаКонвертации>УпаковкиНоменклатуры                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>СостоитИзДругихУпаковок --&gt; СостоитИзДругихУпаковок</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СостоитИзДругихУпаковок" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СостоитИзДругихУпаковок" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЕдиницыИзмерения</Код>
				<Наименование>Справочник: Единицы измерения</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ЕдиницыИзмерения</Источник>
				<Приемник>СправочникСсылка.ЕдиницыИзмерения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>МеждународноеСокращение --&gt; МеждународноеСокращение</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ТипЕдиницыИзмерения --&gt; ТипЕдиницыИзмерения</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ТипЕдиницыИзмерения" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыЕдиницИзмерения"/>
						<Приемник Имя="ТипЕдиницыИзмерения" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыЕдиницИзмерения"/>
						<КодПравилаКонвертации>ТипыЕдиницИзмерения                               </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>750</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ЗагружаетсяИзИнтернета --&gt; ЗагружаетсяИзИнтернета</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Наценка --&gt; Наценка</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ОсновнаяВалюта --&gt; ОсновнаяВалюта</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ОсновнаяВалюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ОсновнаяВалюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПараметрыПрописи --&gt; ПараметрыПрописи</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПараметрыПрописи" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПараметрыПрописи" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>СпособУстановкиКурса --&gt; СпособУстановкиКурса</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
						<Приемник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
						<КодПравилаКонвертации>СпособыУстановкиКурсаВалюты                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ФормулаРасчетаКурса --&gt; ФормулаРасчетаКурса</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ФормулаРасчетаКурса" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ФормулаРасчетаКурса" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗначенияСвойствОбъектовИерархия</Код>
				<Наименование>Справочник: Дополнительные значения (иерархия)</Наименование>
				<Порядок>800</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ЗначенияСвойствОбъектовИерархия</Источник>
				<Приемник>СправочникСсылка.ЗначенияСвойствОбъектовИерархия</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Вес --&gt; Вес</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Вес" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Вес" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПолноеНаименование --&gt; ПолноеНаименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПолноеНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПолноеНаименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектовИерархия"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектовИерархия"/>
						<КодПравилаКонвертации>ЗначенияСвойствОбъектовИерархия                   </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗначенияСвойствОбъектов</Код>
				<Наименование>Справочник: Дополнительные значения</Наименование>
				<Порядок>1050</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ЗначенияСвойствОбъектов</Источник>
				<Приемник>СправочникСсылка.ЗначенияСвойствОбъектов</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Вес --&gt; Вес</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Вес" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Вес" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПолноеНаименование --&gt; ПолноеНаименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПолноеНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПолноеНаименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектов"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектов"/>
						<КодПравилаКонвертации>ЗначенияСвойствОбъектов                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПараметрыВыработкиОС</Код>
				<Наименование>Справочник: Параметры наработки ОР</Наименование>
				<Порядок>1650</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ПараметрыВыработкиОС</Источник>
				<Приемник>СправочникСсылка.ПараметрыВыработкиОС</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
						<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
						<КодПравилаКонвертации>ЕдиницыИзмерения                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ОперацииМероприятий</Код>
				<Наименование>Справочник: Технологические операции</Наименование>
				<Порядок>1700</Порядок>
				<ПослеВыгрузки>Если Не Источник.ЭтоГруппа Тогда
	
	Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	торо_ВерсииТехКартСрезПоследних.ИдентификаторТехКарты КАК Ссылка
	|ИЗ
	|	РегистрСведений.торо_ВерсииТехКарт.СрезПоследних(
	|			,
	|			ТехКарта В
	|				(ВЫБРАТЬ
	|					торо_ТехКартыСписокОпераций.Ссылка КАК Ссылка
	|				ИЗ
	|					Справочник.торо_ТехКарты.СписокОпераций КАК торо_ТехКартыСписокОпераций
	|				ГДЕ
	|					торо_ТехКартыСписокОпераций.Операция В (&amp;ОперацииИТК))) КАК торо_ВерсииТехКартСрезПоследних");
	
	МассивДанныхПоиска = Новый Массив;
	МассивДанныхПоиска.Добавить(Источник.Ссылка);
	
	МассивТКДляВыгрузки = Новый Массив;
	
	Запрос.УстановитьПараметр("ОперацииИТК", МассивДанныхПоиска);
	Результат = Запрос.Выполнить();
	
	Если Не Результат.Пустой() Тогда
		Выборка = Результат.Выбрать();
		Пока Выборка.Следующий() Цикл
			Если Параметры.ДополнительныеТКДляВыгрузки.Получить(Выборка.Ссылка) = Неопределено Тогда
				Параметры.ДополнительныеТКДляВыгрузки.Вставить(Выборка.Ссылка, Истина);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
	
КонецЕсли;</ПослеВыгрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_ТехнологическиеОперации</Источник>
				<Приемник>СправочникСсылка.рсм_ОперацииМероприятий</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ТехнологическиеОперации"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.рсм_ОперацииМероприятий"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Расценка --&gt; Расценка</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Расценка" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Расценка" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.Расценка) Тогда
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	               |	торо_ТехнологическиеОперацииМатериальныеЗатраты.Номенклатура КАК Номенклатура,
	               |	торо_ТехнологическиеОперацииМатериальныеЗатраты.Характеристика КАК Характеристика,
	               |	СправочникНоменклатура.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	               |	торо_ТехнологическиеОперацииМатериальныеЗатраты.КоличествоУпаковок КАК Количество,
	               |	торо_ТипЦеныДляРасчетаСебестоимостиРемонта.Значение КАК ВидЦены
	               |ПОМЕСТИТЬ МатЗатраты
	               |ИЗ
	               |	Константа.торо_ТипЦеныДляРасчетаСебестоимостиРемонта КАК торо_ТипЦеныДляРасчетаСебестоимостиРемонта,
	               |	Справочник.торо_ТехнологическиеОперации.МатериальныеЗатраты КАК торо_ТехнологическиеОперацииМатериальныеЗатраты
	               |		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СправочникНоменклатура
	               |		ПО торо_ТехнологическиеОперацииМатериальныеЗатраты.Номенклатура = СправочникНоменклатура.Ссылка
	               |ГДЕ
	               |	торо_ТехнологическиеОперацииМатериальныеЗатраты.Ссылка = &amp;ТехОперация
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	ЦеныНоменклатурыСрезПоследних.Цена * МатЗатраты.Количество КАК Расценка,
	               |	ЦеныНоменклатурыСрезПоследних.Валюта КАК Валюта
	               |ПОМЕСТИТЬ РасценкиМатЗатрат
	               |ИЗ
	               |	МатЗатраты КАК МатЗатраты
	               |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры.СрезПоследних КАК ЦеныНоменклатурыСрезПоследних
	               |		ПО МатЗатраты.Номенклатура = ЦеныНоменклатурыСрезПоследних.Номенклатура
	               |			И МатЗатраты.Характеристика = ЦеныНоменклатурыСрезПоследних.Характеристика
	               |			И МатЗатраты.ВидЦены = ЦеныНоменклатурыСрезПоследних.ВидЦены
	               |			И МатЗатраты.ЕдиницаИзмерения = ЦеныНоменклатурыСрезПоследних.ЕдиницаИзмерения
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	торо_ТехнологическиеОперацииТрудовыеЗатраты.Квалификация КАК Квалификация,
	               |	торо_ТехнологическиеОперацииТрудовыеЗатраты.Количество КАК Количество,
	               |	торо_ТехнологическиеОперацииТрудовыеЗатраты.ВремяРаботы КАК ВремяРаботы
	               |ПОМЕСТИТЬ ТрудЗатраты
	               |ИЗ
	               |	Справочник.торо_ТехнологическиеОперации.ТрудовыеЗатраты КАК торо_ТехнологическиеОперацииТрудовыеЗатраты
	               |ГДЕ
	               |	торо_ТехнологическиеОперацииТрудовыеЗатраты.Ссылка = &amp;ТехОперация
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	ТрудЗатраты.ВремяРаботы / 3600 * торо_СтоимостьЧасаКвалификацииСрезПоследних.Стоимость * ТрудЗатраты.Количество КАК Расценка,
	               |	торо_СтоимостьЧасаКвалификацииСрезПоследних.Валюта КАК Валюта
	               |ПОМЕСТИТЬ РасценкиТрудЗатрат
	               |ИЗ
	               |	ТрудЗатраты КАК ТрудЗатраты
	               |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.торо_СтоимостьЧасаКвалификации.СрезПоследних КАК торо_СтоимостьЧасаКвалификацииСрезПоследних
	               |		ПО ТрудЗатраты.Квалификация = торо_СтоимостьЧасаКвалификацииСрезПоследних.Квалификация
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	торо_ТехнологическиеОперацииИнструментыИТехника.Количество * торо_ТехнологическиеОперацииИнструментыИТехника.Расценка КАК Расценка,
	               |	торо_ТехнологическиеОперацииИнструментыИТехника.Валюта КАК Валюта
	               |ПОМЕСТИТЬ РасценкиИнструментовИТехники
	               |ИЗ
	               |	Справочник.торо_ТехнологическиеОперации.ИнструментыИТехника КАК торо_ТехнологическиеОперацииИнструментыИТехника
	               |ГДЕ
	               |	торо_ТехнологическиеОперацииИнструментыИТехника.Ссылка = &amp;ТехОперация
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	РасценкиМатЗатрат.Расценка КАК Расценка,
	               |	РасценкиМатЗатрат.Валюта КАК Валюта
	               |ПОМЕСТИТЬ ВсеРасценки
	               |ИЗ
	               |	РасценкиМатЗатрат КАК РасценкиМатЗатрат
	               |
	               |ОБЪЕДИНИТЬ ВСЕ
	               |
	               |ВЫБРАТЬ
	               |	РасценкиТрудЗатрат.Расценка,
	               |	РасценкиТрудЗатрат.Валюта
	               |ИЗ
	               |	РасценкиТрудЗатрат КАК РасценкиТрудЗатрат
	               |
	               |ОБЪЕДИНИТЬ ВСЕ
	               |
	               |ВЫБРАТЬ
	               |	РасценкиИнструментовИТехники.Расценка,
	               |	РасценкиИнструментовИТехники.Валюта
	               |ИЗ
	               |	РасценкиИнструментовИТехники КАК РасценкиИнструментовИТехники
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	СУММА(ВсеРасценки.Расценка) КАК Расценка,
	               |	ВсеРасценки.Валюта КАК Валюта
	               |ПОМЕСТИТЬ ОбщиеРасценки
	               |ИЗ
	               |	ВсеРасценки КАК ВсеРасценки
	               |
	               |СГРУППИРОВАТЬ ПО
	               |	ВсеРасценки.Валюта
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	СУММА(ОбщиеРасценки.Расценка * КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность) КАК Расценка
	               |ПОМЕСТИТЬ РезультатВОсновнойВалюте
	               |ИЗ
	               |	ОбщиеРасценки КАК ОбщиеРасценки
	               |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних КАК КурсыВалютСрезПоследних
	               |		ПО ОбщиеРасценки.Валюта = КурсыВалютСрезПоследних.Валюта
	               |;
	               |
	               |////////////////////////////////////////////////////////////////////////////////
	               |ВЫБРАТЬ
	               |	РезультатВОсновнойВалюте.Расценка / КурсыВалютСрезПоследних.Курс * КурсыВалютСрезПоследних.Кратность КАК Расценка
	               |ИЗ
	               |	РезультатВОсновнойВалюте КАК РезультатВОсновнойВалюте
	               |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних КАК КурсыВалютСрезПоследних
	               |		ПО (КурсыВалютСрезПоследних.Валюта = &amp;Валюта)";
	
	Запрос.УстановитьПараметр("ТехОперация", Источник.Ссылка);
	Запрос.УстановитьПараметр("Валюта", Источник.Валюта);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Если Выборка.Следующий() Тогда
		Значение = Выборка.Расценка;
	Иначе
		Значение = 0;
	КонецЕсли;
Иначе
	Значение = Источник.Расценка; 
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>БазоваяЕдиницаИзмерения --&gt; БазоваяЕдиницаИзмерения</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
						<Приемник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
						<КодПравилаКонвертации>ЕдиницыИзмерения                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Валюта --&gt; Валюта</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>НормаВремени --&gt; НормаВремени</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="НормаВремени" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="НормаВремени" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СодержаниеРабот --&gt; СодержаниеРабот</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="СодержаниеРабот" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="СодержаниеРабот" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_СпособыПланирования</Код>
				<Наименование>Справочник: Способы планирования ремонтных работ</Наименование>
				<Порядок>1750</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_СпособыПланированияРемонтныхРабот</Источник>
				<Приемник>СправочникСсылка.рсм_СпособыПланирования</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ДеньНедели --&gt; ДеньНедели</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ДеньНедели" Вид="Реквизит" Тип="ПеречислениеСсылка.ДниНедели"/>
						<Приемник Имя="ДеньНедели" Вид="Реквизит" Тип="ПеречислениеСсылка.ДниНедели"/>
						<КодПравилаКонвертации>ДниНедели                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ЗначениеПараметраНаработки --&gt; ЗначениеПараметраНаработки</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ЗначениеПараметраНаработки" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="ЗначениеПараметраНаработки" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ИспользоватьПараметрыНаработки --&gt; ИспользоватьПараметрыНаработки</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ИспользоватьПараметрыНаработки" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ИспользоватьПараметрыНаработки" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ИспользоватьПериодичность --&gt; ИспользоватьПериодичность</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ИспользоватьПериодичность" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ИспользоватьПериодичность" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Количество --&gt; Количество</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>КоличествоПериодов --&gt; КоличествоПериодов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="КоличествоПериодов" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="КоличествоПериодов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>НеУчитыватьПриПланированииГрафикРаботыОборудования --&gt; НеУчитыватьПриПланированииГрафикРаботыОборудо</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="НеУчитыватьПриПланированииГрафикРаботыОборудования" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="НеУчитыватьПриПланированииГрафикРаботыОборудования" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПараметрНаработки --&gt; ПараметрНаработки</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПараметрНаработки" Вид="Реквизит" Тип="СправочникСсылка.ПараметрыВыработкиОС"/>
						<Приемник Имя="ПараметрНаработки" Вид="Реквизит" Тип="СправочникСсылка.ПараметрыВыработкиОС"/>
						<КодПравилаКонвертации>ПараметрыВыработкиОС                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПериодичностьРемонтныхРабот --&gt; ПериодичностьРемонтныхРабот</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПериодичностьРемонтныхРабот" Вид="Реквизит" Тип="ПеречислениеСсылка.Периодичность"/>
						<Приемник Имя="ПериодичностьРемонтныхРабот" Вид="Реквизит" Тип="ПеречислениеСсылка.Периодичность"/>
						<КодПравилаКонвертации>Периодичность                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_СпособыПланированияРемонтныхРабот"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.рсм_СпособыПланирования"/>
						<КодПравилаКонвертации>рсм_СпособыПланирования                           </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>СрокФормированияЗаявки --&gt; СрокФормированияЗаявки</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="СрокФормированияЗаявки" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СрокФормированияЗаявки" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>16</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>17</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>18</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
					<Группа>
						<Код>21</Код>
						<Наименование>ПараметрыНаработки --&gt; ПараметрыНаработки</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ПараметрыНаработки" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ПараметрыНаработки" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>22</Код>
							<Наименование>ЗначениеПараметраНаработки --&gt; ЗначениеПараметраНаработки</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЗначениеПараметраНаработки" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ЗначениеПараметраНаработки" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>ПараметрНаработки --&gt; ПараметрНаработки</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПараметрНаработки" Вид="Реквизит" Тип="СправочникСсылка.ПараметрыВыработкиОС"/>
							<Приемник Имя="ПараметрНаработки" Вид="Реквизит" Тип="СправочникСсылка.ПараметрыВыработкиОС"/>
							<КодПравилаКонвертации>ПараметрыВыработкиОС                              </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Группа>
						<Код>24</Код>
						<Наименование>Сезонность --&gt; Сезонность</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="Сезонность" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Сезонность" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>25</Код>
							<Наименование>СезонДатаНачала --&gt; СезонДатаНачала</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="СезонДатаНачала" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="СезонДатаНачала" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>СезонДатаОкончания --&gt; СезонДатаОкончания</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="СезонДатаОкончания" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="СезонДатаОкончания" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>27</Код>
						<Наименование>ВыполнятьОднократно --&gt; ВыполнятьОднократно</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ВыполнятьОднократно" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ВыполнятьОднократно" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_Мероприятия</Код>
				<Наименование>Справочник: Технологические карты ремонтов</Наименование>
				<Порядок>1800</Порядок>
				<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ОбменРСМ) Или (Источник.ЭтоГруппа И Источник.Наименование = "Из RCM") Или (Источник.Родитель.Наименование = "Из RCM") Тогда
	Отказ = Истина;
Иначе
	Если Параметры.ВыгруженныеТК.Получить(Источник.Ссылка) = Неопределено Тогда
		
		Если Не Источник.ЭтоГруппа Тогда
			
			ВходящиеДанные = Новый Структура("Стоимость, Продолжительность, Операции", 0, 0, Новый Массив);
			
			Запрос = Новый Запрос("ВЫБРАТЬ
			                      |	ВерсииТК.ИдентификаторТехКарты КАК ИдентификаторТехКарты,
			                      |	ВерсииТК.ТехКарта КАК ТехКарта
			                      |ПОМЕСТИТЬ ВерсииТК
			                      |ИЗ
			                      |	РегистрСведений.торо_ВерсииТехКарт.СрезПоследних(, ИдентификаторТехКарты В (&amp;ТК)) КАК ВерсииТК
			                      |;
			                      |
			                      |////////////////////////////////////////////////////////////////////////////////
			                      |ВЫБРАТЬ
			                      |	ВерсииТК.ИдентификаторТехКарты КАК ТК,
			                      |	ТехКарты.НормаВремени КАК Продолжительность
			                      |ИЗ
			                      |	ВерсииТК КАК ВерсииТК
			                      |		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.торо_ТехКарты КАК ТехКарты
			                      |		ПО ВерсииТК.ТехКарта = ТехКарты.Ссылка
			                      |;
			                      |
			                      |////////////////////////////////////////////////////////////////////////////////
			                      |ВЫБРАТЬ
			                      |	ВерсииТК.ИдентификаторТехКарты КАК ТК,
			                      |	СписокОперацийТК.Операция КАК Операция,
			                      |	СписокОперацийТК.Количество КАК Количество
			                      |ИЗ
			                      |	ВерсииТК КАК ВерсииТК
			                      |		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.торо_ТехКарты.СписокОпераций КАК СписокОперацийТК
			                      |		ПО ВерсииТК.ТехКарта = СписокОперацийТК.Ссылка");
			
			Запрос.УстановитьПараметр("ТК", Источник.Ссылка);
			РезЗапросаПакет = Запрос.ВыполнитьПакет();
			
			Если РезЗапросаПакет[2].Пустой() Тогда
				Выборка = РезЗапросаПакет[1].Выбрать();
				Выборка.Следующий();
				ВходящиеДанные.Стоимость = 0;
				ВходящиеДанные.Продолжительность = Выборка.Продолжительность;
			Иначе			
				ВыборкаПродолжительность = РезЗапросаПакет[1].Выбрать();
				ВыборкаОпераций = РезЗапросаПакет[2].Выбрать();
				Пока ВыборкаОпераций.Следующий() Цикл
					ВходящиеДанные.Операции.Добавить(Новый Структура("Операция, Количество", ВыборкаОпераций.Операция, ВыборкаОпераций.Количество));
				КонецЦикла;
				ВходящиеДанные.Стоимость = 0;
				ВыборкаПродолжительность.Следующий();
				ВходящиеДанные.Продолжительность = ВыборкаПродолжительность.Продолжительность;
			КонецЕсли;
			
			//КешСтоимостейТК = Параметры.КешСтоимостейТК;
			//СтоимостьТекТКИзКеша = КешСтоимостейТК.Получить(Источник.Ссылка);
			//Если СтоимостьТекТКИзКеша = Неопределено Тогда
			//	СтоимостьТекТКИзКеша = 0;
			//КонецЕсли;
			//
			//ВходящиеДанные = Новый Структура("Стоимость, Продолжительность, Операции", СтоимостьТекТКИзКеша, 0, Новый Массив);
			//
			//Запрос = Новый Запрос("ВЫБРАТЬ
			//|	ВерсииТК.ИдентификаторТехКарты КАК ИдентификаторТехКарты,
			//|	ВерсииТК.ТехКарта КАК ТехКарта
			//|ПОМЕСТИТЬ ВерсииТК
			//|ИЗ
			//|	РегистрСведений.торо_ВерсииТехКарт.СрезПоследних(, ИдентификаторТехКарты В (&amp;ТК)) КАК ВерсииТК
			//|;
			//|
			//|////////////////////////////////////////////////////////////////////////////////
			//|ВЫБРАТЬ
			//|	ВерсииТК.ИдентификаторТехКарты КАК ТК,
			//|	ЕСТЬNULL(Операции.Расценка, 0) КАК Стоимость,
			//|	СписокОперацийТК.Операция КАК Операция,
			//|	ТехКарты.НормаВремени КАК Продолжительность,
			//|	СписокОперацийТК.Количество КАК Количество
			//|ИЗ
			//|	ВерсииТК КАК ВерсииТК
			//|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.торо_ТехКарты.СписокОпераций КАК СписокОперацийТК
			//|			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.торо_ТехнологическиеОперации КАК Операции
			//|			ПО СписокОперацийТК.Операция = Операции.Ссылка
			//|		ПО ВерсииТК.ТехКарта = СписокОперацийТК.Ссылка
			//|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.торо_ТехКарты КАК ТехКарты
			//|		ПО ВерсииТК.ТехКарта = ТехКарты.Ссылка
			//|
			//|УПОРЯДОЧИТЬ ПО
			//|	ВерсииТК.ИдентификаторТехКарты");
			//
			//ТКДляЗапросаСтоимости = Новый Массив;
			//ТКДляЗапросаСтоимости.Добавить(Источник.Ссылка);
			//
			//ЛокальныйКешТК = Новый Соответствие;
			//ПереченьРодителейПоТК = Новый Соответствие;
			//ТКСПолнойСтоимостью = Новый Массив;
			//
			//// КД порождает чудовищ...
			//
			//Пока ТКДляЗапросаСтоимости.Количество() &gt; 0 Цикл
			//	
			//	Запрос.УстановитьПараметр("ТК", ТКДляЗапросаСтоимости);
			//	
			//	Результат = Запрос.Выполнить();
			//	ТКДляЗапросаСтоимости.Очистить();
			//	
			//	Если Не Результат.Пустой() Тогда
			//		
			//		Выборка = Результат.Выбрать();
			//		
			//		ТекТК = Неопределено;
			//		СтоимостьТекТК = 0;
			//		МассивТКДляДооценки = Новый Массив;
			//		
			//		Пока Выборка.Следующий() Цикл
			//			Если ТекТК &lt;&gt; Выборка.ТК Тогда
			//				
			//				Если ТекТК &lt;&gt; Неопределено Тогда
			//					Если МассивТКДляДооценки.Количество() &gt; 0 Тогда
			//						ЛокальныйКешТК.Вставить(ТекТК, Новый Структура("Стоимость, ТКНаДооценку", СтоимостьТекТК, МассивТКДляДооценки));
			//						
			//						Для Каждого ТКДляДооценки Из МассивТКДляДооценки Цикл
			//							РодителиТКДляДооценки = ПереченьРодителейПоТК.Получить(ТКДляДооценки);
			//							Если РодителиТКДляДооценки = Неопределено Тогда
			//								РодителиТКДляДооценки = Новый Массив;
			//							КонецЕсли;
			//							РодителиТКДляДооценки.Добавить(ТекТК);
			//							ПереченьРодителейПоТК.Вставить(ТКДляДооценки, РодителиТКДляДооценки);
			//						КонецЦикла;
			//						
			//						МассивТКДляДооценки = Новый Массив;
			//					Иначе
			//						КешСтоимостейТК.Вставить(ТекТК, СтоимостьТекТК);
			//						ТКСПолнойСтоимостью.Добавить(ТекТК); // TODO: обойти в цикле в самом конце
			//					КонецЕсли;
			//				КонецЕсли;
			//				
			//				ТекТК = Выборка.ТК;
			//			КонецЕсли;
			//			
			//			Если ТипЗнч(Выборка.Операция) = Тип("СправочникСсылка.торо_ТехнологическиеОперации") Тогда
			//				СтоимостьТекТК = СтоимостьТекТК + Выборка.Стоимость;
			//			Иначе
			//				СтоимостьИзКеша = КешСтоимостейТК.Получить(Выборка.Операция);
			//				Если СтоимостьИзКеша &lt;&gt; Неопределено Тогда
			//					СтоимостьТекТК = СтоимостьТекТК + СтоимостьИзКеша;
			//				Иначе
			//					ТКДляЗапросаСтоимости.Добавить(Выборка.Операция);
			//					МассивТКДляДооценки.Добавить(Выборка.Операция);
			//				КонецЕсли;
			//			КонецЕсли;
			//			
			//			Если Выборка.ТК = Источник.Ссылка Тогда
			//				ВходящиеДанные.Продолжительность = Выборка.Продолжительность;
			//				ВходящиеДанные.Операции.Добавить(Новый Структура("Операция, Количество", Выборка.Операция, Выборка.Количество));
			//			КонецЕсли;
			//		КонецЦикла;
			//		
			//		Если ТекТК &lt;&gt; Неопределено Тогда
			//			Если МассивТКДляДооценки.Количество() &gt; 0 Тогда
			//				ЛокальныйКешТК.Вставить(ТекТК, Новый Структура("Стоимость, ТКНаДооценку", СтоимостьТекТК, МассивТКДляДооценки));
			//				
			//				Для Каждого ТКДляДооценки Из МассивТКДляДооценки Цикл
			//					РодителиТКДляДооценки = ПереченьРодителейПоТК.Получить(ТКДляДооценки);
			//					Если РодителиТКДляДооценки = Неопределено Тогда
			//						РодителиТКДляДооценки = Новый Массив;
			//					КонецЕсли;
			//					РодителиТКДляДооценки.Добавить(ТекТК);
			//					ПереченьРодителейПоТК.Вставить(ТКДляДооценки, РодителиТКДляДооценки);
			//				КонецЦикла;
			//				
			//				МассивТКДляДооценки = Новый Массив;
			//			Иначе
			//				КешСтоимостейТК.Вставить(ТекТК, СтоимостьТекТК);
			//				ТКСПолнойСтоимостью.Добавить(ТекТК);
			//			КонецЕсли;
			//		КонецЕсли;
			//		
			//	КонецЕсли;
			//	
			//КонецЦикла;
			//
			//Пока ТКСПолнойСтоимостью.Количество() &gt; 0 Цикл
			//	ТК = ТКСПолнойСтоимостью[0];
			//	РодителиТК = ПереченьРодителейПоТК.Получить(ТК);
			//	Если РодителиТК &lt;&gt; Неопределено Тогда
			//		Для Каждого РодительТК Из РодителиТК Цикл
			//			ДанныеИзЛокальногоКеша = ЛокальныйКешТК.Получить(РодительТК);
			//			Если ДанныеИзЛокальногоКеша &lt;&gt; Неопределено Тогда
			//				ДанныеИзЛокальногоКеша.Стоимость = ДанныеИзЛокальногоКеша.Стоимость + КешСтоимостейТК.Получить(ТК);
			//				Если ДанныеИзЛокальногоКеша.ТКНаДооценку.Количество() &gt; 1 Тогда
			//					ИндексУдаляемого = ДанныеИзЛокальногоКеша.ТКНаДооценку.Найти(ТК);
			//					Если ИндексУдаляемого &lt;&gt; Неопределено Тогда
			//						ДанныеИзЛокальногоКеша.ТКНаДооценку.Удалить(ИндексУдаляемого);
			//					КонецЕсли;
			//				Иначе
			//					КешСтоимостейТК.Вставить(РодительТК, ДанныеИзЛокальногоКеша.Стоимость);
			//					ЛокальныйКешТК.Удалить(РодительТК);
			//					ТКСПолнойСтоимостью.Добавить(РодительТК);
			//				КонецЕсли;
			//			КонецЕсли;
			//		КонецЦикла;
			//	КонецЕсли;
			//	ТКСПолнойСтоимостью.Удалить(0);
			//КонецЦикла;
			//
			//ВходящиеДанные.Стоимость = КешСтоимостейТК.Получить(Источник.Ссылка);
		КонецЕсли;
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
				<ПослеВыгрузки>Параметры.ВыгруженныеТК.Вставить(Источник.Ссылка, Истина);

Если Не Источник.ЭтоГруппа Тогда
	
	Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	торо_ВерсииТехКартСрезПоследних.ИдентификаторТехКарты КАК Ссылка
	|ИЗ
	|	РегистрСведений.торо_ВерсииТехКарт.СрезПоследних(
	|			,
	|			ТехКарта В
	|				(ВЫБРАТЬ
	|					торо_ТехКартыСписокОпераций.Ссылка КАК Ссылка
	|				ИЗ
	|					Справочник.торо_ТехКарты.СписокОпераций КАК торо_ТехКартыСписокОпераций
	|				ГДЕ
	|					торо_ТехКартыСписокОпераций.Операция В (&amp;ОперацииИТК))) КАК торо_ВерсииТехКартСрезПоследних");
	
	МассивДанныхПоиска = Новый Массив;
	МассивДанныхПоиска.Добавить(Источник.Ссылка);
	
	МассивТКДляВыгрузки = Новый Массив;
	
	Запрос.УстановитьПараметр("ОперацииИТК", МассивДанныхПоиска);
	Результат = Запрос.Выполнить();
	
	Если Не Результат.Пустой() Тогда
		Выборка = Результат.Выбрать();
		Пока Выборка.Следующий() Цикл
			Если Параметры.ДополнительныеТКДляВыгрузки.Получить(Выборка.Ссылка) = Неопределено Тогда
				// Если ТК уже есть в параметре - то все равно будет выгружена, иначе начнем выгружать рекурсивно
				МассивТКДляВыгрузки.Добавить(Выборка.Ссылка);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
	
	Для Каждого ТКВыгружаемая Из МассивТКДляВыгрузки Цикл
		Если Параметры.ВыгруженныеТК.Получить(ТКВыгружаемая) = Неопределено Тогда
			ВыгрузитьПоПравилу(ТКВыгружаемая,,,,"рсм_Мероприятия");
			Параметры.ВыгруженныеТК.Вставить(ТКВыгружаемая, Истина);
		КонецЕсли;
	КонецЦикла;
КонецЕсли;</ПослеВыгрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_ИдентификаторыТехКарт</Источник>
				<Приемник>СправочникСсылка.рсм_Мероприятия</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ИдентификаторыТехКарт"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.рсм_Мероприятия"/>
						<КодПравилаКонвертации>рсм_Мероприятия                                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>6</Код>
						<Наименование>--&gt; Валюта</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Параметры.Валюта;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>--&gt; Стоимость</Наименование>
						<Порядок>350</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Продолжительность</Наименование>
						<Порядок>400</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Продолжительность" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>--&gt; Операции</Наименование>
						<Порядок>450</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Операции" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; Операция</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Операция" Вид="Реквизит"/>
							<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Операция) = Тип("СправочникСсылка.торо_ТехнологическиеОперации") Тогда
	ИмяПКО = "рсм_ОперацииМероприятий"; 
Иначе
	ИмяПКО = "рсм_Мероприятия";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_КлассыРодитель</Код>
				<Наименование>Справочник: Типовые объекты ремонта</Наименование>
				<Порядок>1850</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ПриПереносеОбъектаПоСсылкеУстанавливатьТолькоGIUD>true</ПриПереносеОбъектаПоСсылкеУстанавливатьТолькоGIUD>
				<Источник>СправочникСсылка.торо_ТиповыеОР</Источник>
				<Приемник>СправочникСсылка.рсм_Классы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_Классы</Код>
				<Наименование>Справочник: Типовые объекты ремонта</Наименование>
				<Порядок>1850</Порядок>
				<ПередВыгрузкой>Если ВходящиеДанные = Неопределено Или ВходящиеДанные.Уровни[Источник.Ссылка] = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
				<Источник>СправочникСсылка.торо_ТиповыеОР</Источник>
				<Приемник>СправочникСсылка.рсм_Классы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ТиповыеОР"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.рсм_Классы"/>
						<КодПравилаКонвертации>рсм_КлассыРодитель                                </КодПравилаКонвертации>
						<ПередВыгрузкой>ИсходящиеДанные = ВходящиеДанные;
ВыгрузитьОбъект = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Комментарий --&gt; Описание</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; Уровень</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Уровень" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = ВходящиеДанные.Уровни[Источник.ссылка];</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ИерархияТОИР</Код>
				<Наименование>Справочник: Объекты ремонта</Наименование>
				<Порядок>1900</Порядок>
				<ПередВыгрузкой>// Не самый оптимальный с т.з. производительности вариант, но мне показался наиболее удобным

ВходящиеДанные = Новый Структура("ПометкаУдаления, Родитель", Источник.ПометкаУдаления, Справочники.торо_ОбъектыРемонта.ПустаяСсылка());

Запрос = ?(Параметры.ИерархияИзменяетсяДокументами, Запросы.РодительПоИзменяемойДокументамиИерархии, Запросы.РодительПоНеизменяемойДокументамиИерархии); 
Запрос.УстановитьПараметр("Объект", Источник.Ссылка);
Запрос.УстановитьПараметр("Иерархия", Параметры.Иерархия);
Результат = Запрос.Выполнить();
Если Результат.Пустой() Тогда
	ВходящиеДанные.ПометкаУдаления = Истина;
Иначе
	Выборка = Результат.Выбрать(); Выборка.Следующий();
	ВходящиеДанные.Родитель = Выборка.Родитель;
КонецЕсли;</ПередВыгрузкой>
				<ПослеВыгрузки>Если Не Источник.ЭтоГруппа Тогда
	ИсхДанные = Новый Структура("Объект, ДатаПринятия, ПометкаУдаления", Источник.Ссылка, Источник.ДатаВводаВЭксплуатацию, Источник.ПометкаУдаления);
	ВыгрузитьПоПравилу(,,ИсхДанные,,"рсм_ПринятиеКУчету");
	
	СтрукДанных = Новый Структура;
	СтрукДанных.Вставить("Период");
	СтрукДанных.Вставить("Показатель");
	СтрукДанных.Вставить("ПлановаяНаработка");
	СтрукДанных.Вставить("ПериодПлановойНаработки");
	СтрукДанных.Вставить("ПродолжительностьПериодаПлановойНаработки");
	
	СтрукДанных.Вставить("Объект", Источник.Ссылка);

	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	               |	торо_ПараметрыНаработкиОбъектовРемонтаСрезПоследних.Период КАК Период,
	               |	торо_ПараметрыНаработкиОбъектовРемонтаСрезПоследних.Показатель КАК Показатель,
				   |	торо_ПараметрыНаработкиОбъектовРемонтаСрезПоследних.ПлановаяНаработка КАК ПлановаяНаработка,
				   |	торо_ПараметрыНаработкиОбъектовРемонтаСрезПоследних.ПериодПлановойНаработки КАК ПериодПлановойНаработки,
				   |	торо_ПараметрыНаработкиОбъектовРемонтаСрезПоследних.ПродолжительностьПериодаПлановойНаработки КАК ПродолжительностьПериодаПлановойНаработки
	               |ИЗ
	               |	РегистрСведений.торо_ПараметрыНаработкиОбъектовРемонта.СрезПоследних(, ОбъектРемонта = &amp;Объект) КАК торо_ПараметрыНаработкиОбъектовРемонтаСрезПоследних";
    
	Запрос.УстановитьПараметр("Объект", Источник.Ссылка);
    
	Выборка = Запрос.Выполнить().Выбрать();
    
	Пока Выборка.Следующий() Цикл
		СтрукДанных.Период = Выборка.Период;
		СтрукДанных.Показатель = Выборка.Показатель;
		СтрукДанных.ПлановаяНаработка = Выборка.ПлановаяНаработка;
		СтрукДанных.ПериодПлановойНаработки = Выборка.ПериодПлановойНаработки;
		СтрукДанных.ПродолжительностьПериодаПлановойНаработки = Выборка.ПродолжительностьПериодаПлановойНаработки;
		ВыгрузитьПоПравилу(Источник.Ссылка,, СтрукДанных,, "рсм_ПараметрыНаработкиОбъектовТОИР");
	КонецЦикла;
КонецЕсли;</ПослеВыгрузки>
				<ПослеЗагрузки>Если Не ОбъектНайден И Объект.ПометкаУдаления Тогда
	Отказ = Истина;
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_ОбъектыРемонта</Источник>
				<Приемник>СправочникСсылка.рсм_ИерархияТОИР</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.рсм_ИерархияТОИР"/>
						<КодПравилаКонвертации>рсм_ИерархияТОИР                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Приоритет --&gt; Критичность</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Приоритет" Вид="Реквизит" Тип="СправочникСсылка.торо_ПриоритетыОбъектовРемонта"/>
						<Приемник Имя="Критичность" Вид="Реквизит" Тип="СправочникСсылка.рсм_ПриоритетыОбъектовРемонта"/>
						<КодПравилаКонвертации>рсм_ПриоритетыОбъектовРемонта                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ТипОбъекта --&gt; ТипОбъекта</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ТипОбъекта" Вид="Реквизит" Тип="ПеречислениеСсылка.торо_ТипыОбъектовRCM"/>
						<Приемник Имя="ТипОбъекта" Вид="Реквизит" Тип="ПеречислениеСсылка.рсм_ТипыОбъектов"/>
						<КодПравилаКонвертации>рсм_ТипыОбъектов                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.ТипОбъекта) Тогда
	Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	торо_ОбъектыРемонтаГруппы.ОбъектГруппа КАК ОбъектГруппа
	|ИЗ
	|	РегистрСведений.торо_ОбъектыРемонтаГруппы КАК торо_ОбъектыРемонтаГруппы
	|ГДЕ
	|	торо_ОбъектыРемонтаГруппы.ОбъектИерархии = &amp;Объект
	|	И торо_ОбъектыРемонтаГруппы.СтруктураИерархии = &amp;Иерархия");
	Запрос.УстановитьПараметр("Объект", Источник.Ссылка);
	Запрос.УстановитьПараметр("Иерархия", Параметры.Иерархия);
	
	Результат = Запрос.Выполнить();
	Если Результат.Пустой() Тогда
		ЭтоГруппаОбъектов = Ложь;
	Иначе
		Выборка = Результат.Выбрать(); Выборка.Следующий();
		ЭтоГруппаОбъектов = Выборка.ОбъектГруппа;
	КонецЕсли;
	
	Если ЭтоГруппаОбъектов Тогда
		Значение = Параметры.ИнтерпретацияСоставныхОРБезУказанногоТипа;
	Иначе
		Значение = Параметры.ИнтерпретацияПодчиненныхОРБезУказанногоТипа;
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>СтруктураПредприятия                              </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>5</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
               |	торо_ТиповыеОРДополнительныеРеквизиты.Свойство КАК Свойство,
               |	торо_ТиповыеОРДополнительныеРеквизиты.Значение КАК Значение,
               |	торо_ТиповыеОРДополнительныеРеквизиты.ТекстоваяСтрока КАК ТекстоваяСтрока
               |ПОМЕСТИТЬ ТиповыеХарактеристики
               |ИЗ
               |	Справочник.торо_ТиповыеОР.ДополнительныеРеквизиты КАК торо_ТиповыеОРДополнительныеРеквизиты
               |ГДЕ
               |	торо_ТиповыеОРДополнительныеРеквизиты.Ссылка = &amp;ТиповойОР
               |;
               |
               |////////////////////////////////////////////////////////////////////////////////
               |ВЫБРАТЬ
               |	торо_ОбъектыРемонтаДополнительныеРеквизиты.Свойство КАК Свойство,
               |	торо_ОбъектыРемонтаДополнительныеРеквизиты.Значение КАК Значение,
               |	торо_ОбъектыРемонтаДополнительныеРеквизиты.ТекстоваяСтрока КАК ТекстоваяСтрока
               |ПОМЕСТИТЬ ХарактеристикиОбъектаРемонта
               |ИЗ
               |	Справочник.торо_ОбъектыРемонта.ДополнительныеРеквизиты КАК торо_ОбъектыРемонтаДополнительныеРеквизиты
               |ГДЕ
               |	торо_ОбъектыРемонтаДополнительныеРеквизиты.Ссылка = &amp;ОбъектРемонта
               |;
               |
               |////////////////////////////////////////////////////////////////////////////////
               |ВЫБРАТЬ
               |	ЕСТЬNULL(ХарактеристикиОбъектаРемонта.Свойство, ТиповыеХарактеристики.Свойство) КАК Свойство,
               |	ЕСТЬNULL(ХарактеристикиОбъектаРемонта.Значение, ТиповыеХарактеристики.Значение) КАК Значение,
               |	ЕСТЬNULL(ХарактеристикиОбъектаРемонта.ТекстоваяСтрока, ТиповыеХарактеристики.ТекстоваяСтрока) КАК ТекстоваяСтрока
               |ИЗ
               |	ХарактеристикиОбъектаРемонта КАК ХарактеристикиОбъектаРемонта
               |		ПОЛНОЕ СОЕДИНЕНИЕ ТиповыеХарактеристики КАК ТиповыеХарактеристики
               |		ПО ХарактеристикиОбъектаРемонта.Свойство = ТиповыеХарактеристики.Свойство";

Запрос.УстановитьПараметр("ТиповойОР", Источник.ТиповойОР);
Запрос.УстановитьПараметр("ОбъектРемонта", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>6</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
							<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ЗначенияСвойствОбъектов") Тогда
	ИмяПКО = "ЗначенияСвойствОбъектов";
ИначеЕсли ТипЗнч(Источник) = Тип("СправочникСсылка.ЗначенияСвойствОбъектовИерархия") Тогда
	ИмяПКО = "ЗначенияСвойствОбъектовИерархия";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
							<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ПриоритетыОбъектовРемонта</Код>
				<Наименование>Справочник: Приоритеты объектов ремонта</Наименование>
				<Порядок>1950</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_ПриоритетыОбъектовРемонта</Источник>
				<Приемник>СправочникСсылка.рсм_ПриоритетыОбъектовРемонта</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Значение --&gt; Значение</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Значение" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Значение" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>2000</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ЮридическоеФизическоеЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮридическоеФизическоеЛицо                         </КодПравилаКонвертации>
					</Свойство>
					<Группа Отключить="true">
						<Код>8</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>9</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
					<Группа Отключить="true">
						<Код>12</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>13</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Значение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Значение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>2050</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Справочник: Виды контактной информации</Наименование>
				<Порядок>2100</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>3</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>4</Код>
						<Наименование>Представления --&gt; Представления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Представления" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Представления" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
						<Порядок>50</Порядок>
						<Источник>EmailОрганизации</Источник>
						<Приемник>EmailОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>EmailПользователя --&gt; EmailПользователя</Наименование>
						<Порядок>100</Порядок>
						<Источник>EmailПользователя</Источник>
						<Приемник>EmailПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
						<Порядок>150</Порядок>
						<Источник>ДругаяИнформацияОрганизации</Источник>
						<Приемник>ДругаяИнформацияОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПочтовыйАдресОрганизации --&gt; ПочтовыйАдресОрганиза</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПочтовыйАдресОрганизации</Источник>
						<Приемник>ПочтовыйАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>СправочникОрганизации --&gt; СправочникОрганизации</Наименование>
						<Порядок>250</Порядок>
						<Источник>СправочникОрганизации</Источник>
						<Приемник>СправочникОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>СправочникПользователи --&gt; СправочникПользователи</Наименование>
						<Порядок>300</Порядок>
						<Источник>СправочникПользователи</Источник>
						<Приемник>СправочникПользователи</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>350</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ТелефонПользователя --&gt; ТелефонПользователя</Наименование>
						<Порядок>400</Порядок>
						<Источник>ТелефонПользователя</Источник>
						<Приемник>ТелефонПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>450</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>500</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>550</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СтруктураПредприятия</Код>
				<Наименование>Справочник: Структура предприятия</Наименование>
				<Порядок>2150</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтруктураПредприятия</Источник>
				<Приемник>СправочникСсылка.СтруктураПредприятия</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Источник --&gt; Источник</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Источник" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Источник" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>РеквизитДопУпорядочивания --&gt; РеквизитДопУпорядочивания</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="РеквизитДопУпорядочивания" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="РеквизитДопУпорядочивания" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>СтруктураПредприятия                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>СоответствуетСтруктуреЮридическихЛиц --&gt; СоответствуетСтруктуреЮридическихЛиц</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СоответствуетСтруктуреЮридическихЛиц" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СоответствуетСтруктуреЮридическихЛиц" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Группа Отключить="true">
						<Код>8</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>9</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ВидыДефектов</Код>
				<Наименование>Справочник: Виды дефектов</Наименование>
				<Порядок>2200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_ВидыДефектов</Источник>
				<Приемник>СправочникСсылка.рсм_ВидыДефектов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ВидыДефектов"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.рсм_ВидыДефектов"/>
						<КодПравилаКонвертации>рсм_ВидыДефектов                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа Отключить="true">
						<Код>7</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>8</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ПричиныДефектов</Код>
				<Наименование>Справочник: Причины дефектов</Наименование>
				<Порядок>2250</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_ПричиныДефектов</Источник>
				<Приемник>СправочникСсылка.рсм_ПричиныДефектов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа Отключить="true">
						<Код>5</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>6</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ЕстественныйИзнос --&gt; ЕстественныйИзнос</Наименование>
						<Порядок>50</Порядок>
						<Источник>ЕстественныйИзнос</Источник>
						<Приемник>ЕстественныйИзнос</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОшибкиЭксплуатации --&gt; ОшибкиЭксплуатации</Наименование>
						<Порядок>100</Порядок>
						<Источник>ОшибкиЭксплуатации</Источник>
						<Приемник>ОшибкиЭксплуатации</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>рсм_КритичностьДефекта</Код>
				<Наименование>Справочник: Критичность дефекта</Наименование>
				<Порядок>2300</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.торо_КритичностьДефекта</Источник>
				<Приемник>СправочникСсылка.рсм_КритичностьДефекта</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Порядок --&gt; Порядок</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Порядок" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="Порядок" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Группа Отключить="true">
						<Код>5</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>6</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Высокая --&gt; Высокая</Наименование>
						<Порядок>50</Порядок>
						<Источник>Высокая</Источник>
						<Приемник>Высокая</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Низкая --&gt; Низкая</Наименование>
						<Порядок>100</Порядок>
						<Источник>Низкая</Источник>
						<Приемник>Низкая</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Средняя --&gt; Средняя</Наименование>
						<Порядок>150</Порядок>
						<Источник>Средняя</Источник>
						<Приемник>Средняя</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>рсм_ПараметрыНаработкиОбъектовТОИР</Код>
				<Наименование>Справочник: Объекты ремонта</Наименование>
				<Порядок>2350</Порядок>
				<Источник>СправочникСсылка.торо_ОбъектыРемонта</Источник>
				<Приемник>РегистрСведенийЗапись.рсм_ПараметрыНаработкиОбъектовТОИР</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; Объект</Наименование>
						<Порядок>50</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Объект" Вид="Измерение" Тип="СправочникСсылка.рсм_ИерархияТОИР"/>
						<КодПравилаКонвертации>рсм_ИерархияТОИР                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; ПлановаяНаработка</Наименование>
						<Порядок>100</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПлановаяНаработка" Вид="Ресурс" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Показатель</Наименование>
						<Порядок>150</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Показатель" Вид="Измерение" Тип="СправочникСсылка.ПараметрыВыработкиОС"/>
						<КодПравилаКонвертации>ПараметрыВыработкиОС                              </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Период</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; ПериодПлановойНаработки</Наименование>
						<Порядок>250</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПериодПлановойНаработки" Вид="Ресурс" Тип="ПеречислениеСсылка.Периодичность"/>
						<КодПравилаКонвертации>Периодичность                                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ПродолжительностьПериодаПлановойНаработки</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПродолжительностьПериодаПлановойНаработки" Вид="Ресурс" Тип="Число"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>СпособыУстановкиКурсаВалюты</Код>
				<Наименование>Перечисление: Способы установки курса валюты</Наименование>
				<Порядок>1650</Порядок>
				<Источник>ПеречислениеСсылка.СпособыУстановкиКурсаВалюты</Источник>
				<Приемник>ПеречислениеСсылка.СпособыУстановкиКурсаВалюты</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ЗагрузкаИзИнтернета --&gt; ЗагрузкаИзИнтернета</Наименование>
						<Порядок>50</Порядок>
						<Источник>ЗагрузкаИзИнтернета</Источник>
						<Приемник>ЗагрузкаИзИнтернета</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НаценкаНаКурсДругойВалюты --&gt; НаценкаНаКурсДругойВ</Наименование>
						<Порядок>100</Порядок>
						<Источник>НаценкаНаКурсДругойВалюты</Источник>
						<Приемник>НаценкаНаКурсДругойВалюты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РасчетПоФормуле --&gt; РасчетПоФормуле</Наименование>
						<Порядок>150</Порядок>
						<Источник>РасчетПоФормуле</Источник>
						<Приемник>РасчетПоФормуле</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>РучнойВвод --&gt; РучнойВвод</Наименование>
						<Порядок>200</Порядок>
						<Источник>РучнойВвод</Источник>
						<Приемник>РучнойВвод</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыЕдиницИзмерения</Код>
				<Наименование>Перечисление: Типы единиц измерения</Наименование>
				<Порядок>1800</Порядок>
				<Источник>ПеречислениеСсылка.ТипыЕдиницИзмерения</Источник>
				<Приемник>ПеречислениеСсылка.ТипыЕдиницИзмерения</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Весовая --&gt; Весовая</Наименование>
						<Порядок>50</Порядок>
						<Источник>Весовая</Источник>
						<Приемник>Весовая</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Штучная --&gt; Штучная</Наименование>
						<Порядок>100</Порядок>
						<Источник>Штучная</Источник>
						<Приемник>Штучная</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДниНедели</Код>
				<Наименование>Перечисление: Дни недели</Наименование>
				<Порядок>1850</Порядок>
				<Источник>ПеречислениеСсылка.ДниНедели</Источник>
				<Приемник>ПеречислениеСсылка.ДниНедели</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Воскресенье --&gt; Воскресенье</Наименование>
						<Порядок>50</Порядок>
						<Источник>Воскресенье</Источник>
						<Приемник>Воскресенье</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Вторник --&gt; Вторник</Наименование>
						<Порядок>100</Порядок>
						<Источник>Вторник</Источник>
						<Приемник>Вторник</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Понедельник --&gt; Понедельник</Наименование>
						<Порядок>150</Порядок>
						<Источник>Понедельник</Источник>
						<Приемник>Понедельник</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Пятница --&gt; Пятница</Наименование>
						<Порядок>200</Порядок>
						<Источник>Пятница</Источник>
						<Приемник>Пятница</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Среда --&gt; Среда</Наименование>
						<Порядок>250</Порядок>
						<Источник>Среда</Источник>
						<Приемник>Среда</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Суббота --&gt; Суббота</Наименование>
						<Порядок>300</Порядок>
						<Источник>Суббота</Источник>
						<Приемник>Суббота</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Четверг --&gt; Четверг</Наименование>
						<Порядок>350</Порядок>
						<Источник>Четверг</Источник>
						<Приемник>Четверг</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Периодичность</Код>
				<Наименование>Перечисление: Периодичность</Наименование>
				<Порядок>1900</Порядок>
				<Источник>ПеречислениеСсылка.Периодичность</Источник>
				<Приемник>ПеречислениеСсылка.Периодичность</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Год --&gt; Год</Наименование>
						<Порядок>50</Порядок>
						<Источник>Год</Источник>
						<Приемник>Год</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Декада --&gt; Декада</Наименование>
						<Порядок>100</Порядок>
						<Источник>Декада</Источник>
						<Приемник>Декада</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>День --&gt; День</Наименование>
						<Порядок>150</Порядок>
						<Источник>День</Источник>
						<Приемник>День</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Квартал --&gt; Квартал</Наименование>
						<Порядок>200</Порядок>
						<Источник>Квартал</Источник>
						<Приемник>Квартал</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Месяц --&gt; Месяц</Наименование>
						<Порядок>250</Порядок>
						<Источник>Месяц</Источник>
						<Приемник>Месяц</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Неделя --&gt; Неделя</Наименование>
						<Порядок>300</Порядок>
						<Источник>Неделя</Источник>
						<Приемник>Неделя</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Полугодие --&gt; Полугодие</Наименование>
						<Порядок>350</Порядок>
						<Источник>Полугодие</Источник>
						<Приемник>Полугодие</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>рсм_ТипыОбъектов</Код>
				<Наименование>Перечисление: Типы объектов RCM</Наименование>
				<Порядок>1950</Порядок>
				<Источник>ПеречислениеСсылка.торо_ТипыОбъектовRCM</Источник>
				<Приемник>ПеречислениеСсылка.рсм_ТипыОбъектов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>2</Код>
						<Наименование>Объект --&gt; Объект</Наименование>
						<Порядок>100</Порядок>
						<Источник>Объект</Источник>
						<Приемник>Объект</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Система --&gt; Система</Наименование>
						<Порядок>150</Порядок>
						<Источник>Система</Источник>
						<Приемник>Система</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ФункциональноеМесто --&gt; ФункциональноеМесто</Наименование>
						<Порядок>200</Порядок>
						<Источник>ФункциональноеМесто</Источник>
						<Приемник>ФункциональноеМесто</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮридическоеФизическоеЛицо</Код>
				<Наименование>Перечисление: Юридическое / физическое лицо</Наименование>
				<Порядок>2000</Порядок>
				<Источник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизическоеЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизическоеЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮридическоеЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮридическоеЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>2050</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Skype --&gt; Skype</Наименование>
						<Порядок>50</Порядок>
						<Источник>Skype</Источник>
						<Приемник>Skype</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>100</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>150</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>200</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>250</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>300</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Факс --&gt; Факс</Наименование>
						<Порядок>350</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Факс</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Планы видов характеристик</Код>
			<Наименование>Планы видов характеристик</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ДополнительныеРеквизитыИСведения</Код>
				<Наименование>План видов характеристик: Дополнительные реквизиты и сведения</Наименование>
				<Порядок>50</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Виден --&gt; Виден</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Виден" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="Виден" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ВладелецДополнительныхЗначений --&gt; ВладелецДополнительныхЗначений</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВладелецДополнительныхЗначений" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="ВладелецДополнительныхЗначений" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ВыводитьВВидеГиперссылки --&gt; ВыводитьВВидеГиперссылки</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ВыводитьВВидеГиперссылки" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ВыводитьВВидеГиперссылки" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ДополнительныеЗначенияИспользуются --&gt; ДополнительныеЗначенияИспользуются</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ДополнительныеЗначенияИспользуются" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ДополнительныеЗначенияИспользуются" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДополнительныеЗначенияСВесом --&gt; ДополнительныеЗначенияСВесом</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДополнительныеЗначенияСВесом" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ДополнительныеЗначенияСВесом" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Доступен --&gt; Доступен</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Доступен" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="Доступен" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Заголовок --&gt; Заголовок</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Заголовок" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Заголовок" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ЗаголовокФормыВыбораЗначения --&gt; ЗаголовокФормыВыбораЗначения</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЗаголовокФормыВыбораЗначения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ЗаголовокФормыВыбораЗначения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ЗаголовокФормыЗначения --&gt; ЗаголовокФормыЗначения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ЗаголовокФормыЗначения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ЗаголовокФормыЗначения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ЗаполнятьОбязательно --&gt; ЗаполнятьОбязательно</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ЗаполнятьОбязательно" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЗаполнятьОбязательно" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Имя" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Имя" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>МногострочноеПолеВвода --&gt; МногострочноеПолеВвода</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="МногострочноеПолеВвода" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="МногострочноеПолеВвода" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>НаборСвойств --&gt; НаборСвойств</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="НаборСвойств" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
						<Приемник Имя="НаборСвойств" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
						<КодПравилаКонвертации>НаборыДополнительныхРеквизитовИСведений           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>15</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Подсказка --&gt; Подсказка</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="Подсказка" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Подсказка" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ФорматСвойства --&gt; ФорматСвойства</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ФорматСвойства" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ФорматСвойства" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>ЭтоДополнительноеСведение --&gt; ЭтоДополнительноеСведение</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ЭтоДополнительноеСведение" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЭтоДополнительноеСведение" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>21</Код>
						<Наименование>ЗависимостиДополнительныхРеквизитов --&gt; ЗависимостиДополнительныхРеквизитов</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="ЗависимостиДополнительныхРеквизитов" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ЗависимостиДополнительныхРеквизитов" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>22</Код>
							<Наименование>ЗависимоеСвойство --&gt; ЗависимоеСвойство</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЗависимоеСвойство" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗависимоеСвойство" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>Реквизит --&gt; Реквизит</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Реквизит" Вид="Реквизит"/>
							<Приемник Имя="Реквизит" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>Условие --&gt; Условие</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Условие" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Условие" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>200</Порядок>
			<Правило>
				<Код>ДополнительныеСведения</Код>
				<Наименование>Регистр сведений: Дополнительные сведения</Наименование>
				<Порядок>450</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ДополнительныеСведения</Источник>
				<Приемник>РегистрСведенийЗапись.ДополнительныеСведения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Значение --&gt; Значение</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Значение" Вид="Ресурс"/>
						<Приемник Имя="Значение" Вид="Ресурс"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Объект --&gt; Объект</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Объект" Вид="Измерение"/>
						<Приемник Имя="Объект" Вид="Измерение"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Свойство --&gt; Свойство</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Свойство" Вид="Измерение" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="Свойство" Вид="Измерение" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ПринятиеКУчету</Код>
				<Наименование>:</Наименование>
				<Порядок>500</Порядок>
				<ПередВыгрузкой>Если ВходящиеДанные.ПометкаУдаления = Истина Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.рсм_ПринятиеКУчету</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; Объект</Наименование>
						<Порядок>50</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Объект" Вид="Измерение" Тип="СправочникСсылка.рсм_ИерархияТОИР"/>
						<КодПравилаКонвертации>рсм_ИерархияТОИР                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; ДатаПринятия</Наименование>
						<Порядок>100</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДатаПринятия" Вид="Ресурс" Тип="Дата"/>
						<ПередВыгрузкой>

Если Параметры.ИспользоватьДокументыЖЦОР Тогда
	Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	торо_СтатусыОбъектовРемонтаВУчетеСрезПоследних.Период КАК Период
	|ИЗ
	|	РегистрСведений.торо_СтатусыОбъектовРемонтаВУчете.СрезПоследних(
	|			,
	|			ОбъектРемонта = &amp;Объект
	|				И СтатусОР = ЗНАЧЕНИЕ(Перечисление.торо_СтатусыОРВУчете.ПринятоКУчету)) КАК торо_СтатусыОбъектовРемонтаВУчетеСрезПоследних");
	Запрос.УстановитьПараметр("Объект", ВходящиеДанные.Объект);
	Результат = Запрос.Выполнить();
	
	Если Не Результат.Пустой() Тогда
		Выборка = Результат.Выбрать(); 
		Выборка.Следующий();
		Значение = Выборка.Период;
	КонецЕсли;
КонецЕсли</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>рсм_ДанныеПоДефектам</Код>
				<Наименование>Регистр сведений: Выявленные дефекты</Наименование>
				<Порядок>550</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.рсм_ДанныеПоДефектам</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; ИДДефекта</Наименование>
						<Порядок>50</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИДДефекта" Вид="Измерение" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; Период</Наименование>
						<Порядок>100</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; ИД</Наименование>
						<Порядок>150</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИД" Вид="Измерение" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Объект</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Объект" Вид="Измерение" Тип="СправочникСсылка.рсм_ИерархияТОИР"/>
						<КодПравилаКонвертации>рсм_ИерархияТОИР                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Описание</Наименование>
						<Порядок>250</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Описание" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; Период</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ВидДефекта</Наименование>
						<Порядок>350</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДефекта" Вид="Ресурс" Тип="СправочникСсылка.рсм_ВидыДефектов"/>
						<КодПравилаКонвертации>рсм_ВидыДефектов                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; ПричинаДефекта</Наименование>
						<Порядок>400</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПричинаДефекта" Вид="Ресурс" Тип="СправочникСсылка.рсм_ПричиныДефектов"/>
						<КодПравилаКонвертации>рсм_ПричиныДефектов                               </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; КритичностьДефекта</Наименование>
						<Порядок>450</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КритичностьДефекта" Вид="Ресурс" Тип="СправочникСсылка.рсм_КритичностьДефекта"/>
						<КодПравилаКонвертации>рсм_КритичностьДефекта                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ПоследствияДефекта</Наименование>
						<Порядок>500</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ПоследствияДефекта" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; НаправлениеНаУстранение</Наименование>
						<Порядок>550</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="НаправлениеНаУстранение" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>250</Порядок>
			<Правило>
				<Код>рсм_НаработкаОбъектов</Код>
				<Наименование>Документ: Учет наработки оборудования</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Если Источник.Проведен Тогда
	РежимЗаписи = "Проведение";
КонецЕсли;

НаработкаОбъектовМассив = Новый Массив;
ВходящиеДанные = Новый Структура("ТабНаработки", НаработкаОбъектовМассив);

КешПроверенныхНаВыгружаемостьОР = Параметры.КешПроверенныхНаВыгружаемостьОР;

ОРДляПроверки = Новый Массив;

Для Каждого СтрокаНаработки Из Источник.НаработкаОбъектов Цикл
	
	ДанныеИзКеша = КешПроверенныхНаВыгружаемостьОР.Получить(СтрокаНаработки.Объект);
	Если ДанныеИзКеша = Неопределено Тогда
		ОРДляПроверки.Добавить(СтрокаНаработки.Объект);
	КонецЕсли;
		
КонецЦикла;

Для Каждого СтрокаНаработки Из Источник.НаработкаПодчиненныхОбъектов Цикл
	
	ДанныеИзКеша = КешПроверенныхНаВыгружаемостьОР.Получить(СтрокаНаработки.Объект);
	Если ДанныеИзКеша = Неопределено Тогда
		ОРДляПроверки.Добавить(СтрокаНаработки.Объект);
	КонецЕсли;
	
КонецЦикла;

ЗапросПроверки = Параметры.ЗапросПроверкиОРНаВыгружаемость;
ЗапросПроверки.УстановитьПараметр("Ссылки", ОРДляПроверки);

Результат = ЗапросПроверки.Выполнить();
Если Результат.Пустой() Тогда
	Для Каждого ОРПроверяемый Из ОРДляПроверки Цикл
		КешПроверенныхНаВыгружаемостьОР.Вставить(ОРПроверяемый, Ложь);
	КонецЦикла;
Иначе
	Выборка = Результат.Выбрать();
	Пока Выборка.Следующий() Цикл
		КешПроверенныхНаВыгружаемостьОР.Вставить(Выборка.Ссылка, Истина);
	КонецЦикла;
	
	Для Каждого ОРПроверяемый Из ОРДляПроверки Цикл
		ДанныеКеша = КешПроверенныхНаВыгружаемостьОР.Получить(ОРПроверяемый);
		Если ДанныеКеша = Неопределено Тогда
			КешПроверенныхНаВыгружаемостьОР.Вставить(ОРПроверяемый, Ложь);
		КонецЕсли;
	КонецЦикла;
КонецЕсли;

Для Каждого СтрокаНаработки Из Источник.НаработкаОбъектов Цикл
	
	Если КешПроверенныхНаВыгружаемостьОР.Получить(СтрокаНаработки.Объект) = Истина Тогда
		ДанныеНаработки = Новый Структура("Объект, ПараметрНаработки, Значение, ДатаНач, ДатаКон");
		ДанныеНаработки.Объект = СтрокаНаработки.Объект;
		ДанныеНаработки.ПараметрНаработки = СтрокаНаработки.Показатель;
		ДанныеНаработки.Значение = СтрокаНаработки.Наработка;
		ДанныеНаработки.ДатаНач = СтрокаНаработки.ДатаРаботыС;
		ДанныеНаработки.ДатаКон = СтрокаНаработки.ДатаРаботыПо;
		
		НаработкаОбъектовМассив.Добавить(ДанныеНаработки);
	КонецЕсли;
	
КонецЦикла;

Для Каждого СтрокаНаработки Из Источник.НаработкаПодчиненныхОбъектов Цикл
	
	Если КешПроверенныхНаВыгружаемостьОР.Получить(СтрокаНаработки.Объект) = Истина Тогда
		ДанныеНаработки = Новый Структура("Объект, ПараметрНаработки, Значение, ДатаНач, ДатаКон");
		ДанныеНаработки.Объект = СтрокаНаработки.Объект;
		ДанныеНаработки.ПараметрНаработки = СтрокаНаработки.Показатель;
		ДанныеНаработки.Значение = СтрокаНаработки.Наработка;
		ДанныеНаработки.ДатаНач = СтрокаНаработки.ДатаРаботыС;
		ДанныеНаработки.ДатаКон = СтрокаНаработки.ДатаРаботыПо;
		
		НаработкаОбъектовМассив.Добавить(ДанныеНаработки);
	КонецЕсли;

КонецЦикла;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.торо_УчетНаработкиОборудования</Источник>
				<Приемник>ДокументСсылка.рсм_НаработкаОбъектов</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<ПриводитьКДлине>9</ПриводитьКДлине>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Группа>
						<Код>5</Код>
						<Наименование>--&gt; ТабНаработки</Наименование>
						<Порядок>250</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТабНаработки" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Объект</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Объект" Вид="Реквизит" Тип="СправочникСсылка.рсм_ИерархияТОИР"/>
							<КодПравилаКонвертации>рсм_ИерархияТОИР                                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; ПараметрНаработки</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПараметрНаработки" Вид="Реквизит" Тип="СправочникСсылка.ПараметрыВыработкиОС"/>
							<КодПравилаКонвертации>ПараметрыВыработкиОС                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Значение</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Значение" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; ДатаНач</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаНач" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ДатаКон</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаКон" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="true">
				<Код>УпаковкиНоменклатуры</Код>
				<Наименование>УпаковкиНоменклатуры</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>УпаковкиНоменклатуры                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.УпаковкиНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ЕдиницыИзмерения</Код>
				<Наименование>ЕдиницыИзмерения</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ЕдиницыИзмерения                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ЕдиницыИзмерения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПараметрыВыработкиОС</Код>
				<Наименование>ПараметрыВыработкиОС</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>ПараметрыВыработкиОС                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ПараметрыВыработкиОС</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_КритичностьДефекта</Код>
				<Наименование>торо_КритичностьДефекта</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>рсм_КритичностьДефекта                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_КритичностьДефекта</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_ТехнологическиеОперации</Код>
				<Наименование>торо_ТехнологическиеОперации</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>рсм_ОперацииМероприятий                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_ТехнологическиеОперации</ОбъектВыборки>
				<ПослеОбработкиПравила>Для Каждого КлючЗнач Из Параметры.ДополнительныеТКДляВыгрузки Цикл
	
	Если Параметры.ВыгруженныеТК.Получить(КлючЗнач.Ключ) = Неопределено Тогда
		
		ВыгрузитьПоПравилу(КлючЗнач.Ключ,,,,"рсм_Мероприятия");
		
	КонецЕсли;
	
КонецЦикла;</ПослеОбработкиПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_СпособыПланированияРемонтныхРабот</Код>
				<Наименование>торо_СпособыПланированияРемонтныхРабот</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>рсм_СпособыПланирования                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_СпособыПланированияРемонтныхРабот</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_ИдентификаторыТехКарт</Код>
				<Наименование>торо_ИдентификаторыТехКарт</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>рсм_Мероприятия                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_ИдентификаторыТехКарт</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_ТиповыеОР</Код>
				<Наименование>торо_ТиповыеОР</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>рсм_Классы                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_ТиповыеОР</ОбъектВыборки>
				<ПередОбработкойПравила>Если Параметры.ПередаватьТОР = Истина Тогда
	Запрос = Новый Запрос;
	Запрос.текст = "ВЫБРАТЬ
				   |	торо_ТиповыеОРИзменения.Ссылка КАК Ссылка,
				   |	ВЫБОР
				   |		КОГДА торо_ТиповыеОРИзменения.Ссылка.Родитель = ЗНАЧЕНИЕ(Справочник.торо_ТиповыеОР.ПустаяСсылка)
				   |			ТОГДА 0
				   |		КОГДА торо_ТиповыеОРИзменения.Ссылка.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.торо_ТиповыеОР.ПустаяСсылка)
				   |			ТОГДА 1
				   |		КОГДА торо_ТиповыеОРИзменения.Ссылка.Родитель.Родитель.Родитель = ЗНАЧЕНИЕ(Справочник.торо_ТиповыеОР.ПустаяСсылка)
				   |			ТОГДА 2
				   |		ИНАЧЕ 3
				   |	КОНЕЦ КАК Уровень
				   |ПОМЕСТИТЬ ВТ_Список
				   |ИЗ
				   |	Справочник.торо_ТиповыеОР.Изменения КАК торо_ТиповыеОРИзменения
				   |ГДЕ
				   |	торо_ТиповыеОРИзменения.Узел = &amp;Узел
				   |;
				   |
				   |////////////////////////////////////////////////////////////////////////////////
				   |ВЫБРАТЬ
				   |	Таб.Ссылка КАК Ссылка,
				   |	Таб.Уровень КАК Уровень
				   |ИЗ
				   |	ВТ_Список КАК Таб
				   |ГДЕ
				   |	Таб.Уровень &lt; 3";


	Запрос.УстановитьПараметр("Узел", Параметры.УзелПолучатель);
	Выборка = Запрос.Выполнить().Выгрузить();

	ВыборкаДанных = Новый Массив;

	ИсходящиеДанные = Новый Структура();
	Уровни = Новый Соответствие();
	Для Каждого текСтрока Из Выборка Цикл
		Уровни.Вставить(текСтрока.Ссылка, текСтрока.Уровень);
		ВыборкаДанных.Добавить(текСтрока.Ссылка);
	КонецЦикла;

	ИсходящиеДанные.Вставить("Уровни", Уровни);
Иначе
	Отказ = Истина;
КонецЕсли;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_ОбъектыРемонта</Код>
				<Наименование>торо_ОбъектыРемонта</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>рсм_ИерархияТОИР                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_ОбъектыРемонта</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_ПриоритетыОбъектовРемонта</Код>
				<Наименование>торо_ПриоритетыОбъектовРемонта</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>рсм_ПриоритетыОбъектовРемонта                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.торо_ПриоритетыОбъектовРемонта</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="false">
				<Код>торо_УчетНаработкиОборудования</Код>
				<Наименование>Учет наработки оборудования</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>рсм_НаработкаОбъектов                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.торо_УчетНаработкиОборудования</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_ВыявленныеДефекты</Код>
				<Наименование>Выявленные дефекты</Наименование>
				<Порядок>150</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.торо_ВыявленныеДефекты</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Отказ = Истина;
Если Не ТипЗнч(Объект) = Тип("УдалениеОбъекта") Тогда
	
	Если Объект.Проведен Тогда
		ОтказОтВыгрузкиПоПравилу = Ложь;
		
		Запрос = Новый Запрос(
		"ВЫБРАТЬ ПЕРВЫЕ 1
		|	торо_СтруктурыОР.Ссылка КАК Иерархия,
		|	торо_СтруктурыОР.ИзменяетсяДокументами КАК ИзменяетсяДокументами
		|ИЗ
		|	ПланОбмена.ОбменТОИР20RCM КАК ОбменТОИР20RCM
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.торо_СтруктурыОР КАК торо_СтруктурыОР
		|		ПО ОбменТОИР20RCM.Иерархия = торо_СтруктурыОР.Ссылка
		|			И (НЕ ОбменТОИР20RCM.ЭтотУзел)
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	торо_ИерархияДляВводаНовыхОР.Значение,
		|	торо_ИерархияДляВводаНовыхОР.Значение.ИзменяетсяДокументами
		|ИЗ
		|	Константа.торо_ИерархияДляВводаНовыхОР КАК торо_ИерархияДляВводаНовыхОР");
		Результат = Запрос.Выполнить();
		
		Если Результат.Пустой() Тогда
			ОтказОтВыгрузкиПоПравилу = Истина;
		Иначе
			Запрос = Новый Запрос;
			Запрос.Текст = "ВЫБРАТЬ
			               |	КОЛИЧЕСТВО(*) КАК Количество
			               |ИЗ
			               |	ПланОбмена.ОбменТОИР20RCM.ВидыДефектовДляПередачи КАК ВидыДефектовДляПередачи";
			
			Выборка = Запрос.Выполнить().Выбрать();
			Выборка.Следующий();
			
			КоличествоВидовДефектовДляПередачи = Выборка.Количество;
			
			Выборка = Результат.Выбрать();
			Выборка.Следующий();
			
			ТекстЗапроса = "ВЫБРАТЬ
			               |	торо_ВыявленныеДефектыСписокДефектов.ВидДефекта КАК ВидДефекта,
			               |	торо_ВыявленныеДефектыСписокДефектов.ОтказавшийЭлемент КАК Объект
			               |ПОМЕСТИТЬ ОбъектыДоЗаписи
			               |ИЗ
			               |	Документ.торо_ВыявленныеДефекты.СписокДефектов КАК торо_ВыявленныеДефектыСписокДефектов
			               |ГДЕ
			               |	торо_ВыявленныеДефектыСписокДефектов.Ссылка = &amp;Ссылка
			               |;";
						   
			Если Не КоличествоВидовДефектовДляПередачи = 0 Тогда
				ТекстЗапроса = ТекстЗапроса + "
			               |ВЫБРАТЬ
			               |	ВидыДефектовДляПередачи.ВидДефекта КАК ВидДефекта
			               |ПОМЕСТИТЬ ВидыДефектовДляПередачи
			               |ИЗ
			               |	ПланОбмена.ОбменТОИР20RCM.ВидыДефектовДляПередачи КАК ВидыДефектовДляПередачи
			               |;";
			КонецЕсли;
			
			ТекстЗапроса = ТекстЗапроса + "
						   |ВЫБРАТЬ
			               |	ОбъектыПослеЗаписи.ВидДефекта КАК ВидДефекта,
			               |	ОбъектыПослеЗаписи.Объект КАК Объект
			               |ПОМЕСТИТЬ ОбъектыПослеЗаписи
			               |ИЗ
			               |	&amp;ОбъектыПослеЗаписи КАК ОбъектыПослеЗаписи
			               |;
			               |
			               |////////////////////////////////////////////////////////////////////////////////
			               |ВЫБРАТЬ РАЗЛИЧНЫЕ
			               |	ОбъектыДоЗаписи.ВидДефекта КАК ВидДефекта,
			               |	ОбъектыДоЗаписи.Объект КАК Объект
			               |ПОМЕСТИТЬ ВсеОбъекты
			               |ИЗ
			               |	ОбъектыДоЗаписи КАК ОбъектыДоЗаписи
			               |		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидыДефектовДляПередачи КАК ВидыДефектовДляПередачи ПО ОбъектыДоЗаписи.ВидДефекта = ВидыДефектовДляПередачи.ВидДефекта
			               |
			               |ОБЪЕДИНИТЬ ВСЕ
			               |
			               |ВЫБРАТЬ
			               |	ОбъектыПослеЗаписи.ВидДефекта,
			               |	ОбъектыПослеЗаписи.Объект
			               |ИЗ
			               |	ОбъектыПослеЗаписи КАК ОбъектыПослеЗаписи
			               |		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидыДефектовДляПередачи КАК ВидыДефектовДляПередачи ПО ОбъектыПослеЗаписи.ВидДефекта = ВидыДефектовДляПередачи.ВидДефекта
						   |;";
			
			Если Выборка.ИзменяетсяДокументами Тогда
				ТекстЗапроса = ТекстЗапроса +
				"ВЫБРАТЬ
				|	торо_РасположениеОРВСтруктуреИерархииСрезПоследних.ОбъектИерархии КАК Объект
				|ИЗ
				|	РегистрСведений.торо_РасположениеОРВСтруктуреИерархии.СрезПоследних(
				|			,
				|			ОбъектИерархии В
				|					(ВЫБРАТЬ
				|						ВсеОбъекты.Объект КАК Объект
				|					ИЗ
				|						ВсеОбъекты КАК ВсеОбъекты)
				|				И СтруктураИерархии = &amp;Иерархия) КАК торо_РасположениеОРВСтруктуреИерархииСрезПоследних";
			Иначе
				ТекстЗапроса = ТекстЗапроса +
				"ВЫБРАТЬ
				|	ВсеОбъекты.Объект КАК Объект
				|ИЗ
				|	ВсеОбъекты КАК ВсеОбъекты
				|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.торо_ИерархическиеСтруктурыОР КАК торо_ИерархическиеСтруктурыОР
				|		ПО ВсеОбъекты.Объект = торо_ИерархическиеСтруктурыОР.ОбъектИерархии
				|			И (торо_ИерархическиеСтруктурыОР.СтруктураИерархии = &amp;Иерархия)";
			КонецЕсли;
			
			Если КоличествоВидовДефектовДляПередачи = 0 Тогда
				ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидыДефектовДляПередачи КАК ВидыДефектовДляПередачи ПО ОбъектыДоЗаписи.ВидДефекта = ВидыДефектовДляПередачи.ВидДефекта", "");
				ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВидыДефектовДляПередачи КАК ВидыДефектовДляПередачи ПО ОбъектыПослеЗаписи.ВидДефекта = ВидыДефектовДляПередачи.ВидДефекта", "");
			КонецЕсли;
			
			Запрос = Новый Запрос(ТекстЗапроса);
			Запрос.УстановитьПараметр("Ссылка", Объект.Ссылка);
			Запрос.УстановитьПараметр("Иерархия", Выборка.Иерархия);
			
			ОбъектыПослеЗаписи = Новый ТаблицаЗначений();
			ОбъектыПослеЗаписи.Колонки.Добавить("ВидДефекта", Новый ОписаниеТипов("СправочникСсылка.торо_ВидыДефектов"));
			ОбъектыПослеЗаписи.Колонки.Добавить("Объект", Новый ОписаниеТипов("СправочникСсылка.торо_ОбъектыРемонта"));
			
			Для Каждого СтрДефекта Из Объект.СписокДефектов Цикл
				НС = ОбъектыПослеЗаписи.Добавить();
				НС.ВидДефекта = СтрДефекта.ВидДефекта;
				НС.Объект = СтрДефекта.ОтказавшийЭлемент;
			КонецЦикла;
			
			Запрос.УстановитьПараметр("ОбъектыПослеЗаписи", ОбъектыПослеЗаписи);
			
			Результат = Запрос.Выполнить();
			Если Результат.Пустой() Тогда
				ОтказОтВыгрузкиПоПравилу = Истина;
			КонецЕсли;
		КонецЕсли;
		
		Если Не ОтказОтВыгрузкиПоПравилу Тогда
			КешПроверенныхНаВыгружаемостьОР = Параметры.КешПроверенныхНаВыгружаемостьОР;

			ОРДляПроверки = Новый Массив;
			
			Для Каждого СтрокаДефекта Из Объект.СписокДефектов Цикл
				
				ДанныеИзКеша = КешПроверенныхНаВыгружаемостьОР.Получить(СтрокаДефекта.ОтказавшийЭлемент);
				Если ДанныеИзКеша = Неопределено Тогда
					ОРДляПроверки.Добавить(СтрокаДефекта.ОтказавшийЭлемент);
				КонецЕсли;
				
			КонецЦикла;
			
			ЗапросПроверки = Параметры.ЗапросПроверкиОРНаВыгружаемость;
			ЗапросПроверки.УстановитьПараметр("Ссылки", ОРДляПроверки);

			Результат = ЗапросПроверки.Выполнить();
			Если Результат.Пустой() Тогда
				Для Каждого ОРПроверяемый Из ОРДляПроверки Цикл
					КешПроверенныхНаВыгружаемостьОР.Вставить(ОРПроверяемый, Ложь);
				КонецЦикла;
			Иначе
				Выборка = Результат.Выбрать();
				Пока Выборка.Следующий() Цикл
					КешПроверенныхНаВыгружаемостьОР.Вставить(Выборка.Ссылка, Истина);
				КонецЦикла;
				
				Для Каждого ОРПроверяемый Из ОРДляПроверки Цикл
					ДанныеКеша = КешПроверенныхНаВыгружаемостьОР.Получить(ОРПроверяемый);
					Если ДанныеКеша = Неопределено Тогда
						КешПроверенныхНаВыгружаемостьОР.Вставить(ОРПроверяемый, Ложь);
					КонецЕсли;
				КонецЦикла;
			КонецЕсли;
			
			Для Каждого СтрокаДефекта Из Объект.СписокДефектов Цикл
				
				Если КешПроверенныхНаВыгружаемостьОР.Получить(СтрокаДефекта.ОтказавшийЭлемент) = Истина Тогда
					ДанныеДляВыгрузки = Новый Структура("ИД, ИДДефекта, Объект, Период, Описание, ВидДефекта, ПричинаДефекта, КритичностьДефекта, ПоследствияДефекта, НаправлениеНаУстранение");
					ДанныеДляВыгрузки.ИД = Объект.Ссылка.УникальныйИдентификатор();
					ДанныеДляВыгрузки.ИДДефекта = СтрокаДефекта.ID;
					ДанныеДляВыгрузки.Объект = СтрокаДефекта.ОтказавшийЭлемент;
					ДанныеДляВыгрузки.Период = Объект.ДатаОбнаружения;
					ДанныеДляВыгрузки.Описание = СтрокаДефекта.ДефектОписание;
					ДанныеДляВыгрузки.ВидДефекта = СтрокаДефекта.ВидДефекта;
					ДанныеДляВыгрузки.ПричинаДефекта = СтрокаДефекта.ДефектПричина;
					ДанныеДляВыгрузки.КритичностьДефекта = СтрокаДефекта.КритичностьДефекта;
					ДанныеДляВыгрузки.ПоследствияДефекта = СтрокаДефекта.ПоследствияДефекта;
					ДанныеДляВыгрузки.НаправлениеНаУстранение = СтрокаДефекта.НаправлениеНаУстранение;
										
					ВыгрузитьПоПравилу(,,ДанныеДляВыгрузки,,"рсм_ДанныеПоДефектам");
				КонецЕсли;
				
			КонецЦикла;
		КонецЕсли;
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Служебные</Код>
			<Наименование>Служебные</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="false">
				<Код>торо_ИерархическиеСтруктурыОР</Код>
				<Наименование>Иерархические структуры объектов ремонта</Наименование>
				<Порядок>50</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.торо_ИерархическиеСтруктурыОР</ОбъектВыборки>
				<ПередОбработкойПравила>Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="false">
				<Код>торо_РасположениеОРВСтруктуреИерархии</Код>
				<Наименование>Расположение объектов ремонтных работ в структуре иерархии</Наименование>
				<Порядок>100</Порядок>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.торо_РасположениеОРВСтруктуреИерархии</ОбъектВыборки>
				<ПередОбработкойПравила>Отказ = Истина;</ПередОбработкойПравила>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы>
		<Запрос Имя="НаличиеОРВИзменяемойДокИерархии" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	торо_РасположениеОРВСтруктуреИерархииСрезПоследних.ОбъектИерархии КАК Ссылка
ИЗ
	РегистрСведений.торо_РасположениеОРВСтруктуреИерархии.СрезПоследних(
			,
			ОбъектИерархии В(&amp;Ссылки)
				И СтруктураИерархии = &amp;Иерархия) КАК торо_РасположениеОРВСтруктуреИерархииСрезПоследних</Текст>
		</Запрос>
		<Запрос Имя="НаличиеОРВНеизменяемойДокИерархии" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	торо_ИерархическиеСтруктурыОР.ОбъектИерархии КАК Ссылка
ИЗ
	РегистрСведений.торо_ИерархическиеСтруктурыОР КАК торо_ИерархическиеСтруктурыОР
ГДЕ
	торо_ИерархическиеСтруктурыОР.ОбъектИерархии В(&amp;Ссылки)
	И торо_ИерархическиеСтруктурыОР.СтруктураИерархии = &amp;Иерархия</Текст>
		</Запрос>
		<Запрос Имя="РодительПоИзменяемойДокументамиИерархии" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	торо_РасположениеОРВСтруктуреИерархииСрезПоследних.РодительИерархии КАК Родитель
ИЗ
	РегистрСведений.торо_РасположениеОРВСтруктуреИерархии.СрезПоследних(
			,
			ОбъектИерархии = &amp;Объект
				И СтруктураИерархии = &amp;Иерархия) КАК торо_РасположениеОРВСтруктуреИерархииСрезПоследних</Текст>
		</Запрос>
		<Запрос Имя="РодительПоНеизменяемойДокументамиИерархии" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	торо_ИерархическиеСтруктурыОР.РодительИерархии КАК Родитель
ИЗ
	РегистрСведений.торо_ИерархическиеСтруктурыОР КАК торо_ИерархическиеСтруктурыОР
ГДЕ
	торо_ИерархическиеСтруктурыОР.ОбъектИерархии = &amp;Объект
	И торо_ИерархическиеСтруктурыОР.СтруктураИерархии = &amp;Иерархия</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>