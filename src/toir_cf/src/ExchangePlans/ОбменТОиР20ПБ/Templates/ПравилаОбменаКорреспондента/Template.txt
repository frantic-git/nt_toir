<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="РежимСовместимостиСБСП20">2.01</ВерсияФормата>
	<Ид>80c7e377-1a99-4896-af16-ea4a6cd39460    </Ид>
	<Наименование>ПБ --&gt; ТОиР</Наименование>
	<ДатаВремяСоздания>2023-06-05T15:30:00</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.1.6.80" СинонимКонфигурации="1С:Производственная безопасность. Промышленная безопасность, редакция 1.1">ПроизводственнаяБезопасностьПромышленнаяБезопасность</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.6.1" СинонимКонфигурации="1С:ТОИР Управление ремонтами и обслуживанием оборудования КОРП, редакция 3.0">ТехническоеОбслуживаниеИРемонты3</Приемник>
	<ПослеПолученияИнформацииОбУзлахОбмена>Параметры.Вставить("ПлановыйГрафикРаботы",УзелОбменаЗагрузкаДанных.ПлановыйГрафикРаботы);
Параметры.Вставить("ОрганизацияПоУмолчанию",УзелОбменаЗагрузкаДанных.ОрганизацияПоУмолчанию);
Параметры.Вставить("ДатаВыпускаПоУмолчанию",УзелОбменаЗагрузкаДанных.ДатаВыпускаПоУмолчанию);</ПослеПолученияИнформацииОбУзлахОбмена>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ТехническиеУстройства</Код>
				<Наименование>Справочник: Технические устройства</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>Если НЕ Объект.ЭтоГруппа Тогда
	
	Если  НЕ ЗначениеЗаполнено(Объект.ПлановыйГрафикРаботы) Тогда
		Объект.ПлановыйГрафикРаботы = параметры["ПлановыйГрафикРаботы"];
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(Объект.Организация) Тогда
		Объект.Организация = Параметры["ОрганизацияПоУмолчанию"];
	КонецЕсли;	
	Если НЕ ЗначениеЗаполнено(Объект.ДатаВыпуска) Тогда
		Объект.ДатаВыпуска = Параметры["ДатаВыпускаПоУмолчанию"];
	КонецЕсли;

	Если Не ОбъектНайден Тогда
		ОбъектИерархии = Объект.ПолучитьСсылкуНового();
	Иначе
		ОбъектИерархии = Объект.Ссылка;
	КонецЕсли;
	СтруктураИерархии = Константы.торо_ИерархияДляВводаНовыхОР.Получить();
	
	Если СтруктураИерархии.ИзменяетсяДокументами Тогда
		
		НовДок = Документы.торо_ИзменениеПоложенияВСтруктуреИерархии.СоздатьДокумент();
		
		НовДок.Дата = ТекущаяДата();
		НовДок.СтруктураИерархии = СтруктураИерархии;
		НовДок.Организация = ОбъектИерархии.Организация;
		НовДок.Подразделение = ОбъектИерархии.Подразделение;
		
		НС = НовДок.ПоложенияВСтруктуреИерархии.Добавить();
		НС.ОбъектИерархии = ОбъектИерархии;
		
		НС.РодительИерархии = Объект.Родитель;
		
		НС.ПредыдущееПоложение = "Внесен в структуру иерархии";	
		
		НовДок.Записать(РежимЗаписиДокумента.Проведение);
		
	Иначе
		
		нз = РегистрыСведений.торо_ИерархическиеСтруктурыОР.СоздатьНаборЗаписей();
		нз.Отбор.ОбъектИерархии.Установить(ОбъектИерархии);
		нз.Отбор.СтруктураИерархии.Установить(СтруктураИерархии);
		
		НоваяЗапись  = Нз.Добавить();
		НоваяЗапись.ОбъектИерархии = ОбъектИерархии;
		НоваяЗапись.СтруктураИерархии = СтруктураИерархии;
		НоваяЗапись.РодительИерархии = Объект.Родитель;
		
		НЗ.Записать();
	КонецЕсли;

КонецЕсли;

Если ЗначениеЗаполнено(Объект.Родитель) Тогда
	
	Если Не Объект.Родитель.ЭтоГруппа Тогда
		нз = РегистрыСведений.торо_ОбъектыРемонтаГруппы.СоздатьНаборЗаписей();
		нз.Отбор.ОбъектИерархии.Установить(Объект.Родитель);
		нз.Отбор.СтруктураИерархии.Установить(СтруктураИерархии);
		
		НоваяЗапись  = Нз.Добавить();
		НоваяЗапись.ОбъектИерархии = Объект.Родитель;
		НоваяЗапись.СтруктураИерархии = СтруктураИерархии;
		НоваяЗапись.ОбъектГруппа = Истина;
		
		НЗ.Записать();
	КонецЕсли;
	
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>true</ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>
				<Источник>СправочникСсылка.прбТехническиеУстройства</Источник>
				<Приемник>СправочникСсылка.торо_ОбъектыРемонта</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ЗаводскойНомер --&gt; ЗаводскойНомер</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЗаводскойНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ЗаводскойНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>3</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ОбъектыРемонта"/>
						<КодПравилаКонвертации>ОбъектыРемонтаИерархия                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.Родитель) Тогда
	Значение = Новый Структура("Наименование, ЭтоГруппа",  "Технические устройства", Истина);
Иначе
	Значение = Источник.Родитель;
	ИмяПКО = "ТехническиеУстройства";
КонецЕсли;

ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>8</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ГодИзготовления --&gt; ДатаВыпуска</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ГодИзготовления" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаВыпуска" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; СрокПолезногоИспользования</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СрокПолезногоИспользования" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Если Не Источник.ЭтоГруппа Тогда
	Значение = Источник.НормативныйСрокЭксплуатацииЛет*12
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>РегистрационныйНомер --&gt; ИнвентарныйНомер</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="РегистрационныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИнвентарныйНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>СерийныйНомер --&gt; ТехНомер</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СерийныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ТехНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>13</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПриводитьКДлине>12</ПриводитьКДлине>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; Направление</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Направление" Вид="Реквизит" Тип="СправочникСсылка.торо_НаправленияОбъектовРемонтныхРабот"/>
						<КодПравилаКонвертации>торо_НаправленияОбъектовРемонтныхРабот            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Новый Структура("Наименование", "Технические устройства");</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗданияИСооружения</Код>
				<Наименование>Справочник: Здания и сооружения</Наименование>
				<Порядок>100</Порядок>
				<ПослеЗагрузки>Если НЕ Объект.ЭтоГруппа Тогда
	
	Если  НЕ ЗначениеЗаполнено(Объект.ПлановыйГрафикРаботы) Тогда
		Объект.ПлановыйГрафикРаботы = параметры["ПлановыйГрафикРаботы"];
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(Объект.Организация) Тогда
		Объект.Организация = Параметры["ОрганизацияПоУмолчанию"];
	КонецЕсли;	
	
	Если НЕ ЗначениеЗаполнено(Объект.ДатаВыпуска) Тогда
		Объект.ДатаВыпуска = Параметры["ДатаВыпускаПоУмолчанию"];
	КонецЕсли;
	
	Если Не ОбъектНайден Тогда
		ОбъектИерархии = Объект.ПолучитьСсылкуНового();
	Иначе
		ОбъектИерархии = Объект.Ссылка;
	КонецЕсли;
	
	СтруктураИерархии = Константы.торо_ИерархияДляВводаНовыхОР.Получить();
	
	Если СтруктураИерархии.ИзменяетсяДокументами Тогда
		
		НовДок = Документы.торо_ИзменениеПоложенияВСтруктуреИерархии.СоздатьДокумент();
		
		НовДок.Дата = ТекущаяДата();
		НовДок.СтруктураИерархии = СтруктураИерархии;
		НовДок.Организация = ОбъектИерархии.Организация;
		НовДок.Подразделение = ОбъектИерархии.Подразделение;
		
		НС = НовДок.ПоложенияВСтруктуреИерархии.Добавить();
		НС.ОбъектИерархии = ОбъектИерархии;
		
		НС.РодительИерархии = Объект.Родитель;
		
		НС.ПредыдущееПоложение = "Внесен в структуру иерархии";	
		
		НовДок.Записать(РежимЗаписиДокумента.Проведение);
		
	Иначе
		
		нз = РегистрыСведений.торо_ИерархическиеСтруктурыОР.СоздатьНаборЗаписей();
		нз.Отбор.ОбъектИерархии.Установить(ОбъектИерархии);
		нз.Отбор.СтруктураИерархии.Установить(СтруктураИерархии);
		
		НоваяЗапись  = Нз.Добавить();
		НоваяЗапись.ОбъектИерархии = ОбъектИерархии;
		НоваяЗапись.СтруктураИерархии = СтруктураИерархии;
		НоваяЗапись.РодительИерархии = Объект.Родитель;
		
		НЗ.Записать();
	КонецЕсли;
	
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.прбЗданияИСооружения</Источник>
				<Приемник>СправочникСсылка.торо_ОбъектыРемонта</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Направление</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Направление" Вид="Реквизит" Тип="СправочникСсылка.торо_НаправленияОбъектовРемонтныхРабот"/>
						<КодПравилаКонвертации>торо_НаправленияОбъектовРемонтныхРабот            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Новый Структура("Наименование",  "Здания и сооружения");</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; Родитель</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ОбъектыРемонта"/>
						<КодПравилаКонвертации>ОбъектыРемонтаИерархия                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Новый Структура("Наименование, ЭтоГруппа",  "Здания и сооружения", Истина);
ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ИнвентарныйНомер --&gt; ИнвентарныйНомер</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ИнвентарныйНомер" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИнвентарныйНомер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>150</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>true</ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ИНН --&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>КПП --&gt; КПП</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ЮридическоеФизическоеЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮридическоеФизическоеЛицо                         </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>7</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>8</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Регион --&gt; Регион</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Справочник: Виды контактной информации</Наименование>
				<Порядок>200</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование>ВключатьСтрануВПредставление --&gt; ВключатьСтрануВПредставление</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ВключатьСтрануВПредставление" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ВключатьСтрануВПредставление" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>МожноИзменятьСпособРедактирования --&gt; МожноИзменятьСпособРедактирования</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="МожноИзменятьСпособРедактирования" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="МожноИзменятьСпособРедактирования" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ОбязательноеЗаполнение --&gt; ОбязательноеЗаполнение</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ОбязательноеЗаполнение" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ОбязательноеЗаполнение" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ПроверятьКорректность --&gt; ПроверятьКорректность</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ПроверятьКорректность" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ПроверятьКорректность" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>РазрешитьВводНесколькихЗначений --&gt; РазрешитьВводНесколькихЗначений</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="РазрешитьВводНесколькихЗначений" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="РазрешитьВводНесколькихЗначений" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>РеквизитДопУпорядочивания --&gt; РеквизитДопУпорядочивания</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="РеквизитДопУпорядочивания" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="РеквизитДопУпорядочивания" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>13</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>СкрыватьНеактуальныеАдреса --&gt; СкрыватьНеактуальныеАдреса</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="СкрыватьНеактуальныеАдреса" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СкрыватьНеактуальныеАдреса" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>16</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
						<Порядок>50</Порядок>
						<Источник>EmailОрганизации</Источник>
						<Приемник>EmailОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>EmailПользователя --&gt; EmailПользователя</Наименование>
						<Порядок>100</Порядок>
						<Источник>EmailПользователя</Источник>
						<Приемник>EmailПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
						<Порядок>150</Порядок>
						<Источник>ДругаяИнформацияОрганизации</Источник>
						<Приемник>ДругаяИнформацияОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПочтовыйАдресОрганизации --&gt; ПочтовыйАдресОрганиза</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПочтовыйАдресОрганизации</Источник>
						<Приемник>ПочтовыйАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>СправочникОрганизации --&gt; СправочникОрганизации</Наименование>
						<Порядок>250</Порядок>
						<Источник>СправочникОрганизации</Источник>
						<Приемник>СправочникОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>СправочникПользователи --&gt; СправочникПользователи</Наименование>
						<Порядок>300</Порядок>
						<Источник>СправочникПользователи</Источник>
						<Приемник>СправочникПользователи</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>350</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ТелефонПользователя --&gt; ТелефонПользователя</Наименование>
						<Порядок>400</Порядок>
						<Источник>ТелефонПользователя</Источник>
						<Приемник>ТелефонПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>450</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>500</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>550</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ОПО</Код>
				<Наименование>Справочник: Опасные производственные объекты</Наименование>
				<Порядок>250</Порядок>
				<ПослеЗагрузки>Если НЕ Объект.ЭтоГруппа Тогда
	
	Если  НЕ ЗначениеЗаполнено(Объект.ПлановыйГрафикРаботы) Тогда
		Объект.ПлановыйГрафикРаботы = параметры["ПлановыйГрафикРаботы"];
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(Объект.Организация) Тогда
		Объект.Организация = Параметры["ОрганизацияПоУмолчанию"];
	КонецЕсли;	
	Если НЕ ЗначениеЗаполнено(Объект.ДатаВыпуска) Тогда
		Объект.ДатаВыпуска = Параметры["ДатаВыпускаПоУмолчанию"];
	КонецЕсли;
	
	Если Не ОбъектНайден Тогда
		ОбъектИерархии = Объект.ПолучитьСсылкуНового();
	Иначе
		ОбъектИерархии = Объект.Ссылка;
	КонецЕсли;
	СтруктураИерархии = Константы.торо_ИерархияДляВводаНовыхОР.Получить();
	
	Если СтруктураИерархии.ИзменяетсяДокументами Тогда
		
		НовДок = Документы.торо_ИзменениеПоложенияВСтруктуреИерархии.СоздатьДокумент();
		
		НовДок.Дата = ТекущаяДата();
		НовДок.СтруктураИерархии = СтруктураИерархии;
		НовДок.Организация = ОбъектИерархии.Организация;
		НовДок.Подразделение = ОбъектИерархии.Подразделение;
		
		НС = НовДок.ПоложенияВСтруктуреИерархии.Добавить();
		НС.ОбъектИерархии = ОбъектИерархии;
		
		НС.РодительИерархии = Объект.Родитель;
		
		НС.ПредыдущееПоложение = "Внесен в структуру иерархии";	
		
		НовДок.Записать(РежимЗаписиДокумента.Проведение);
		
	Иначе
		
		нз = РегистрыСведений.торо_ИерархическиеСтруктурыОР.СоздатьНаборЗаписей();
		нз.Отбор.ОбъектИерархии.Установить(ОбъектИерархии);
		нз.Отбор.СтруктураИерархии.Установить(СтруктураИерархии);
		
		НоваяЗапись  = Нз.Добавить();
		НоваяЗапись.ОбъектИерархии = ОбъектИерархии;
		НоваяЗапись.СтруктураИерархии = СтруктураИерархии;
		НоваяЗапись.РодительИерархии = Объект.Родитель;
		
		НЗ.Записать();
	КонецЕсли;
	
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>true</ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>
				<Источник>СправочникСсылка.прбОпасныеПроизводственныеОбъекты</Источник>
				<Приемник>СправочникСсылка.торо_ОбъектыРемонта</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; ДатаВводаВЭксплуатацию</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДатаВводаВЭксплуатацию" Вид="Реквизит" Тип="Дата"/>
						<ПередВыгрузкой>	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	СостояниеОбъекта.Период КАК Период
	|ИЗ
	|	РегистрСведений.СостояниеОбъекта КАК СостояниеОбъекта
	|ГДЕ
	|	СостояниеОбъекта.Состояние = &amp;Состояние
	|	И СостояниеОбъекта.Объект = &amp;Объект
	|
	|УПОРЯДОЧИТЬ ПО
	|	Период ";
	
	Запрос.УстановитьПараметр("Объект", Источник.Ссылка);
	Запрос.УстановитьПараметр("Состояние", Перечисления.СостоянияОбъекта.ВведенВЭксплуатацию);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
	
	Если  ВыборкаДетальныеЗаписи.Следующий() Тогда
		Значение = ВыборкаДетальныеЗаписи.период
	Иначе
		Отказ = Истина;
	КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; Направление</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Направление" Вид="Реквизит" Тип="СправочникСсылка.торо_НаправленияОбъектовРемонтныхРабот"/>
						<КодПравилаКонвертации>торо_НаправленияОбъектовРемонтныхРабот            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Новый Структура("Наименование", "Опасные производственные объекты");</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ПринадлежитСтороннейОрганизации --&gt; ВнешнийОбъект</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПринадлежитСтороннейОрганизации" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ВнешнийОбъект" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ВнешняяОрганизация --&gt; Контрагент</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ВнешняяОрганизация" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Родитель</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ОбъектыРемонта"/>
						<КодПравилаКонвертации>ОбъектыРемонтаИерархия                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Новый Структура("Наименование, ЭтоГруппа",  "Опасные производственные объекты", Истина);
ВыгрузитьОбъект = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>торо_НаправленияОбъектовРемонтныхРабот</Код>
				<Наименование>:</Наименование>
				<Порядок>300</Порядок>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Приемник>СправочникСсылка.торо_НаправленияОбъектовРемонтныхРабот</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Источник.Наименование;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыРегламентныхРабот</Код>
				<Наименование>Справочник: Виды регламентных работ</Наименование>
				<Порядок>350</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
				<ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>true</ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>
				<Источник>СправочникСсылка.ВидыРегламентныхРабот</Источник>
				<Приемник>СправочникСсылка.торо_ВидыРемонтов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыРегламентныхРабот"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ВидыРемонтов"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПереченьРегламентированныхРабот</Код>
				<Наименование>Справочник: Перечень регламентированных работ</Наименование>
				<Порядок>400</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>true</ВыгружатьОбъектТолькоПриНаличииНаНегоСсылки>
				<Источник>СправочникСсылка.ПереченьРегламентированныхРабот</Источник>
				<Приемник>СправочникСсылка.торо_ТехнологическиеОперации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ПереченьРегламентированныхРабот"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.торо_ТехнологическиеОперации"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Описание --&gt; СодержаниеРабот</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="СодержаниеРабот" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ОбъектыРемонтаИерархия</Код>
				<Наименование>Справочник: Технические устройства</Наименование>
				<Порядок>450</Порядок>
				<ПослеЗагрузки>Если Не ОбъектНайден Тогда
	ОбъектИерархии = Объект.ПолучитьСсылкуНового();
Иначе
	ОбъектИерархии = Объект.Ссылка;
КонецЕсли;

СтруктураИерархии = Константы.торо_ИерархияДляВводаНовыхОР.Получить();

Если СтруктураИерархии.ИзменяетсяДокументами Тогда
	
	НовДок = Документы.торо_ИзменениеПоложенияВСтруктуреИерархии.СоздатьДокумент();
	
	НовДок.Дата = ТекущаяДата();
	НовДок.СтруктураИерархии = СтруктураИерархии;
	НовДок.Организация = ОбъектИерархии.Организация;
	НовДок.Подразделение = ОбъектИерархии.Подразделение;
	
	НС = НовДок.ПоложенияВСтруктуреИерархии.Добавить();
	НС.ОбъектИерархии = ОбъектИерархии;
	
	НС.ПредыдущееПоложение = "Внесен в структуру иерархии";	
	
	НовДок.Записать(РежимЗаписиДокумента.Проведение);
	
Иначе
	
	нз = РегистрыСведений.торо_ИерархическиеСтруктурыОР.СоздатьНаборЗаписей();
	нз.Отбор.ОбъектИерархии.Установить(ОбъектИерархии);
	нз.Отбор.СтруктураИерархии.Установить(СтруктураИерархии);
	
	НоваяЗапись  = Нз.Добавить();
	НоваяЗапись.ОбъектИерархии = ОбъектИерархии;
	НоваяЗапись.СтруктураИерархии = СтруктураИерархии;
	
	НЗ.Записать();
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 тогда
	СтрокаИменСвойствПоиска = "Код, Наименование, ЭтоГруппа";
Иначе
	СтрокаИменСвойствПоиска = "Наименование, ЭтоГруппа";
КонецЕсли;</ПоследовательностьПолейПоиска>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Приемник>СправочникСсылка.торо_ОбъектыРемонта</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>2</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Факс --&gt; Факс</Наименование>
						<Порядок>300</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Факс</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮридическоеФизическоеЛицо</Код>
				<Наименование>Перечисление: Юридическое / физическое лицо</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизическоеЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизическоеЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮридическоеЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮридическоеЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>торо_ИерархическиеСтруктурыОР</Код>
				<Наименование>:</Наименование>
				<Порядок>50</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.торо_ИерархическиеСтруктурыОР</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; ОбъектИерархии</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ОбъектИерархии" Вид="Измерение" Тип="СправочникСсылка.торо_ОбъектыРемонта"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>--&gt; СтруктураИерархии</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтруктураИерархии" Вид="Измерение" Тип="СправочникСсылка.торо_СтруктурыОР"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; РодительИерархии</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РодительИерархии" Вид="Ресурс" Тип="СправочникСсылка.торо_ОбъектыРемонта"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>ЗданияИСооружения</Код>
				<Наименование>ЗданияИСооружения</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ЗданияИСооружения                                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.прбЗданияИСооружения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ОпасныеПроизводственныеОбъекты</Код>
				<Наименование>ОпасныеПроизводственныеОбъекты</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ОПО                                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.прбОпасныеПроизводственныеОбъекты</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>Отказ = Объект.ИмяПредопределенныхДанных = "Удалить_НеПринадлежитОПО";</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ТехническиеУстройства</Код>
				<Наименование>ТехническиеУстройства</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>ТехническиеУстройства                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.прбТехническиеУстройства</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыРегламентныхРабот</Код>
				<Наименование>ВидыРегламентныхРабот</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>ВидыРегламентныхРабот                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыРегламентныхРабот</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПереченьРегламентированныхРабот</Код>
				<Наименование>ПереченьРегламентированныхРабот</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ПереченьРегламентированныхРабот                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ПереченьРегламентированныхРабот</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы/>
</ПравилаОбмена>