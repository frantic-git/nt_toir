
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Для Каждого Значение ИЗ Параметры.Согласующие Цикл
		НоваяСтрока = Согласующие.Добавить();
		НоваяСтрока.Согласующие = Значение;
		НоваяСТрока.Отметить = Истина;
	КонецЦикла;
	Статус = Параметры.Статус;
	
КонецПроцедуры

&НаКлиенте
Процедура ОК(Команда)
	
	МассивСогласующих = Новый Массив;
	Для Каждого Значение Из Согласующие Цикл
		Если Значение.Отметить Тогда
			МассивСогласующих.Добавить(Значение.Согласующие);
		КонецЕсли;
	КонецЦикла;
	
	Если МассивСогласующих.Количество() = 0 Тогда
		ТекстСообщения = НСтр("ru = 'Не выбран согласующий!'");
		ОбщегоНазначенияКлиент.СообщитьПользователю(ТекстСообщения);
		Возврат;
	КонецЕсли;
	
	Данные = Новый Структура;
	Данные.Вставить("МассивСогласующих", МассивСогласующих);
	Данные.Вставить("Статус", Статус);
	Закрыть(Данные);
	
КонецПроцедуры

#КонецОбласти